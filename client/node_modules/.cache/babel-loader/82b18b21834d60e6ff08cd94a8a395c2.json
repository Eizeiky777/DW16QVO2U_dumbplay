{"ast":null,"code":"import { USER } from \"../constants/action-types\";\nimport { API, setAuthToken } from \"../config/api\"; // import axios from \"axios\";\n// // Set config defaults when creating the instance\n// export const API = axios.create({\n//   baseURL: \"http://localhost:5000/api/v1\",\n// });\n// // Alter defaults after instance has been created\n// export const setAuthToken = (token) => {\n//   API.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n// };\n\nexport const getUsers = user => {\n  return {\n    type: USER,\n    payload: async () => {\n      try {\n        // const {\n        // data: { data },\n        // } = await API.post(\"/register\", user);\n        // localStorage.setItem(\"token\", data.token);\n        // setAuthToken(data.token); //Set header token\n        const {\n          data: {\n            data\n          }\n        } = await API.get(\"/users\");\n        return data;\n      } catch (error) {\n        if (error.response) {\n          const {\n            data,\n            status\n          } = error.response;\n          if (status > 399) throw data.error;\n        }\n      }\n    }\n  };\n};","map":{"version":3,"sources":["C:/1. Eizeiky/3. React/dumbways react/minggu_1/dumbflix_ORM/src/components/redux/actions/user.js"],"names":["USER","API","setAuthToken","getUsers","user","type","payload","data","get","error","response","status"],"mappings":"AAAA,SAASA,IAAT,QAAqB,2BAArB;AACA,SAASC,GAAT,EAAcC,YAAd,QAAkC,eAAlC,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAMC,QAAQ,GAAIC,IAAD,IAAU;AAC9B,SAAO;AACHC,IAAAA,IAAI,EAAEL,IADH;AAEHM,IAAAA,OAAO,EAAE,YAAY;AACrB,UAAI;AACA;AACA;AACA;AAEA;AACA;AACA,cAAM;AACNC,UAAAA,IAAI,EAAE;AAAEA,YAAAA;AAAF;AADA,YAEF,MAAMN,GAAG,CAACO,GAAJ,CAAQ,QAAR,CAFV;AAGA,eAAOD,IAAP;AACH,OAXD,CAWE,OAAOE,KAAP,EAAc;AACZ,YAAIA,KAAK,CAACC,QAAV,EAAoB;AACpB,gBAAM;AAAEH,YAAAA,IAAF;AAAQI,YAAAA;AAAR,cAAmBF,KAAK,CAACC,QAA/B;AAEA,cAAIC,MAAM,GAAG,GAAb,EAAkB,MAAMJ,IAAI,CAACE,KAAX;AACjB;AACJ;AACA;AArBE,GAAP;AAuBH,CAxBM","sourcesContent":["import { USER } from \"../constants/action-types\";\r\nimport { API, setAuthToken } from \"../config/api\";\r\n\r\n// import axios from \"axios\";\r\n// // Set config defaults when creating the instance\r\n// export const API = axios.create({\r\n//   baseURL: \"http://localhost:5000/api/v1\",\r\n// });\r\n// // Alter defaults after instance has been created\r\n// export const setAuthToken = (token) => {\r\n//   API.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n// };\r\n\r\nexport const getUsers = (user) => {\r\n    return {\r\n        type: USER,\r\n        payload: async () => {\r\n        try {\r\n            // const {\r\n            // data: { data },\r\n            // } = await API.post(\"/register\", user);\r\n\r\n            // localStorage.setItem(\"token\", data.token);\r\n            // setAuthToken(data.token); //Set header token\r\n            const {\r\n            data: { data },\r\n            } = await API.get(\"/users\");\r\n            return data;\r\n        } catch (error) {\r\n            if (error.response) {\r\n            const { data, status } = error.response;\r\n\r\n            if (status > 399) throw data.error;\r\n            }\r\n        }\r\n        },\r\n    };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}