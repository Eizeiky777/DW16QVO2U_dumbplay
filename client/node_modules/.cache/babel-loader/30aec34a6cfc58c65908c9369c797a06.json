{"ast":null,"code":"import { UPDATETRANSACTION } from \"../constants/action-types\";\nimport { API, setAuthToken } from \"../config/api\"; //import moment from 'moment';\n\nexport const updateTransaction = (status, ids) => {\n  return {\n    type: UPDATETRANSACTION,\n    payload: async () => {\n      try {\n        setAuthToken(localStorage.getItem(\"token\"));\n        const {\n          data: {\n            data\n          }\n        } = await API.get(`/transaction/${ids}`);\n        const formData = new FormData();\n        formData.append(\"startDate\", data.startDate);\n        formData.append(\"dueDate\", data.dueDate);\n        formData.append(\"userId\", data.userId);\n        formData.append(\"attach\", data.attach);\n        formData.append(\"status\", status);\n        const config = {\n          headers: {\n            \"content-type\": \"multipart/form-data\"\n          }\n        };\n        const {\n          data: {\n            data: dataUser\n          }\n        } = await API.patch(`/transaction/edit/${ids}`, formData, config);\n        return dataUser;\n      } catch (error) {\n        if (error.response) {\n          const {\n            data,\n            status\n          } = error.response;\n          if (status > 399) throw data.error;\n        }\n      }\n    }\n  };\n};","map":{"version":3,"sources":["C:/1. Eizeiky/3. React/dumbways react/minggu_4 - Presentasi Final test/client/src/components/redux/actions/updateTransaction.js"],"names":["UPDATETRANSACTION","API","setAuthToken","updateTransaction","status","ids","type","payload","localStorage","getItem","data","get","formData","FormData","append","startDate","dueDate","userId","attach","config","headers","dataUser","patch","error","response"],"mappings":"AAAA,SAASA,iBAAT,QAAkC,2BAAlC;AACA,SAASC,GAAT,EAAcC,YAAd,QAAkC,eAAlC,C,CACA;;AAEA,OAAO,MAAMC,iBAAiB,GAAG,CAACC,MAAD,EAASC,GAAT,KAAiB;AAC9C,SAAO;AACHC,IAAAA,IAAI,EAAEN,iBADH;AAEHO,IAAAA,OAAO,EAAE,YAAY;AACrB,UAAI;AACAL,QAAAA,YAAY,CAAEM,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAF,CAAZ;AAEA,cAAM;AACFC,UAAAA,IAAI,EAAE;AAAEA,YAAAA;AAAF;AADJ,YAEE,MAAMT,GAAG,CAACU,GAAJ,CAAS,gBAAeN,GAAI,EAA5B,CAFd;AAKA,cAAMO,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AAEAD,QAAAA,QAAQ,CAACE,MAAT,CAAgB,WAAhB,EAA6BJ,IAAI,CAACK,SAAlC;AACAH,QAAAA,QAAQ,CAACE,MAAT,CAAgB,SAAhB,EAA2BJ,IAAI,CAACM,OAAhC;AACAJ,QAAAA,QAAQ,CAACE,MAAT,CAAgB,QAAhB,EAA0BJ,IAAI,CAACO,MAA/B;AACAL,QAAAA,QAAQ,CAACE,MAAT,CAAgB,QAAhB,EAA0BJ,IAAI,CAACQ,MAA/B;AACAN,QAAAA,QAAQ,CAACE,MAAT,CAAgB,QAAhB,EAA0BV,MAA1B;AAEA,cAAMe,MAAM,GAAG;AACXC,UAAAA,OAAO,EAAE;AACL,4BAAgB;AADX;AADE,SAAf;AAMA,cAAM;AACNV,UAAAA,IAAI,EAAE;AAAEA,YAAAA,IAAI,EAAEW;AAAR;AADA,YAEF,MAAMpB,GAAG,CAACqB,KAAJ,CAAW,qBAAoBjB,GAAI,EAAnC,EAAsCO,QAAtC,EAAgDO,MAAhD,CAFV;AAIA,eAAOE,QAAP;AACH,OA3BD,CA2BE,OAAOE,KAAP,EAAc;AACZ,YAAIA,KAAK,CAACC,QAAV,EAAoB;AACpB,gBAAM;AAAEd,YAAAA,IAAF;AAAQN,YAAAA;AAAR,cAAmBmB,KAAK,CAACC,QAA/B;AAEA,cAAIpB,MAAM,GAAG,GAAb,EAAkB,MAAMM,IAAI,CAACa,KAAX;AACjB;AACJ;AACA;AArCE,GAAP;AAuCH,CAxCM","sourcesContent":["import { UPDATETRANSACTION } from \"../constants/action-types\";\r\nimport { API, setAuthToken } from \"../config/api\";\r\n//import moment from 'moment';\r\n\r\nexport const updateTransaction = (status, ids) => {\r\n    return {\r\n        type: UPDATETRANSACTION,\r\n        payload: async () => {\r\n        try {\r\n            setAuthToken( localStorage.getItem(\"token\") );\r\n\r\n            const {\r\n                data: { data },\r\n                } = await API.get(`/transaction/${ids}`);\r\n            \r\n\r\n            const formData = new FormData();\r\n            \r\n            formData.append(\"startDate\", data.startDate);\r\n            formData.append(\"dueDate\", data.dueDate);\r\n            formData.append(\"userId\", data.userId);\r\n            formData.append(\"attach\", data.attach);\r\n            formData.append(\"status\", status);\r\n\r\n            const config = {\r\n                headers: {\r\n                    \"content-type\": \"multipart/form-data\",\r\n                },\r\n            };\r\n            \r\n            const {\r\n            data: { data: dataUser },\r\n            } = await API.patch(`/transaction/edit/${ids}`, formData, config);\r\n                \r\n            return dataUser;\r\n        } catch (error) {\r\n            if (error.response) {\r\n            const { data, status } = error.response;\r\n\r\n            if (status > 399) throw data.error;\r\n            }\r\n        }\r\n        },\r\n    };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}