{"ast":null,"code":"function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n} // use by https://github.com/ustbhuangyi/lyric-parser\n\n\nvar timeExp = /\\[(\\d{2,}):(\\d{2})(?:\\.(\\d{2,3}))?]/g;\nvar STATE_PAUSE = 0;\nvar STATE_PLAYING = 1;\nvar tagRegMap = {\n  title: 'ti',\n  artist: 'ar',\n  album: 'al',\n  offset: 'offset',\n  by: 'by'\n};\n\nfunction noop() {}\n\nvar Lyric = /*#__PURE__*/function () {\n  function Lyric(lrc) {\n    var hanlder = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n    _classCallCheck(this, Lyric);\n\n    this.lrc = lrc;\n    this.tags = {};\n    this.lines = [];\n    this.handler = hanlder;\n    this.state = STATE_PAUSE;\n    this.curLine = 0;\n\n    this._init();\n  }\n\n  _createClass(Lyric, [{\n    key: \"_init\",\n    value: function _init() {\n      this._initTag();\n\n      this._initLines();\n    }\n  }, {\n    key: \"_initTag\",\n    value: function _initTag() {\n      for (var tag in tagRegMap) {\n        var matches = this.lrc.match(new RegExp(\"\\\\[\".concat(tagRegMap[tag], \":([^\\\\]]*)]\"), 'i'));\n        this.tags[tag] = matches && matches[1] || '';\n      }\n    }\n  }, {\n    key: \"_initLines\",\n    value: function _initLines() {\n      var lines = this.lrc.split('\\n');\n\n      for (var i = 0; i < lines.length; i++) {\n        var line = lines[i];\n        var result = timeExp.exec(line);\n\n        if (result) {\n          var txt = line.replace(timeExp, '').trim();\n\n          if (txt) {\n            this.lines.push({\n              time: result[1] * 60 * 1000 + result[2] * 1000 + (result[3] || 0) * 10,\n              txt: txt\n            });\n          }\n        }\n      }\n\n      this.lines.sort(function (a, b) {\n        return a.time - b.time;\n      });\n    }\n  }, {\n    key: \"_findCurNum\",\n    value: function _findCurNum(time) {\n      for (var i = 0; i < this.lines.length; i++) {\n        if (time <= this.lines[i].time) {\n          return i;\n        }\n      }\n\n      return this.lines.length - 1;\n    }\n  }, {\n    key: \"_callHandler\",\n    value: function _callHandler(i) {\n      if (i < 0) {\n        return;\n      }\n\n      this.handler({\n        txt: this.lines[i].txt,\n        lineNum: i\n      });\n    }\n  }, {\n    key: \"_playRest\",\n    value: function _playRest() {\n      var _this = this;\n\n      var line = this.lines[this.curNum];\n      var delay = line.time - (+new Date() - this.startStamp);\n      this.timer = setTimeout(function () {\n        _this._callHandler(_this.curNum++);\n\n        if (_this.curNum < _this.lines.length && _this.state === STATE_PLAYING) {\n          _this._playRest();\n        }\n      }, delay);\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      var startTime = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var skipLast = arguments.length > 1 ? arguments[1] : undefined;\n\n      if (!this.lines.length) {\n        return;\n      }\n\n      this.state = STATE_PLAYING;\n      this.curNum = this._findCurNum(startTime);\n      this.startStamp = +new Date() - startTime;\n\n      if (!skipLast) {\n        this._callHandler(this.curNum - 1);\n      }\n\n      if (this.curNum < this.lines.length) {\n        clearTimeout(this.timer);\n\n        this._playRest();\n      }\n    }\n  }, {\n    key: \"togglePlay\",\n    value: function togglePlay() {\n      var now = +new Date();\n\n      if (this.state === STATE_PLAYING) {\n        this.stop();\n        this.pauseStamp = now;\n      } else {\n        this.state = STATE_PLAYING;\n        this.play((this.pauseStamp || now) - (this.startStamp || now), true);\n        this.pauseStamp = 0;\n      }\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.state = STATE_PAUSE;\n      clearTimeout(this.timer);\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(offset) {\n      this.play(offset);\n    }\n  }]);\n\n  return Lyric;\n}();\n\nexport { Lyric as default };","map":{"version":3,"sources":["C:/1. Eizeiky/3. React/dumbways react/minggu_4 - Presentasi Final test/client/node_modules/react-jinke-music-player/es/lyric.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","timeExp","STATE_PAUSE","STATE_PLAYING","tagRegMap","title","artist","album","offset","by","noop","Lyric","lrc","hanlder","arguments","undefined","tags","lines","handler","state","curLine","_init","value","_initTag","_initLines","tag","matches","match","RegExp","concat","split","line","result","exec","txt","replace","trim","push","time","sort","a","b","_findCurNum","_callHandler","lineNum","_playRest","_this","curNum","delay","Date","startStamp","timer","setTimeout","play","startTime","skipLast","clearTimeout","togglePlay","now","stop","pauseStamp","seek","default"],"mappings":"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","sourcesContent":["function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// use by https://github.com/ustbhuangyi/lyric-parser\nvar timeExp = /\\[(\\d{2,}):(\\d{2})(?:\\.(\\d{2,3}))?]/g;\nvar STATE_PAUSE = 0;\nvar STATE_PLAYING = 1;\nvar tagRegMap = {\n  title: 'ti',\n  artist: 'ar',\n  album: 'al',\n  offset: 'offset',\n  by: 'by'\n};\n\nfunction noop() {}\n\nvar Lyric = /*#__PURE__*/function () {\n  function Lyric(lrc) {\n    var hanlder = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n    _classCallCheck(this, Lyric);\n\n    this.lrc = lrc;\n    this.tags = {};\n    this.lines = [];\n    this.handler = hanlder;\n    this.state = STATE_PAUSE;\n    this.curLine = 0;\n\n    this._init();\n  }\n\n  _createClass(Lyric, [{\n    key: \"_init\",\n    value: function _init() {\n      this._initTag();\n\n      this._initLines();\n    }\n  }, {\n    key: \"_initTag\",\n    value: function _initTag() {\n      for (var tag in tagRegMap) {\n        var matches = this.lrc.match(new RegExp(\"\\\\[\".concat(tagRegMap[tag], \":([^\\\\]]*)]\"), 'i'));\n        this.tags[tag] = matches && matches[1] || '';\n      }\n    }\n  }, {\n    key: \"_initLines\",\n    value: function _initLines() {\n      var lines = this.lrc.split('\\n');\n\n      for (var i = 0; i < lines.length; i++) {\n        var line = lines[i];\n        var result = timeExp.exec(line);\n\n        if (result) {\n          var txt = line.replace(timeExp, '').trim();\n\n          if (txt) {\n            this.lines.push({\n              time: result[1] * 60 * 1000 + result[2] * 1000 + (result[3] || 0) * 10,\n              txt: txt\n            });\n          }\n        }\n      }\n\n      this.lines.sort(function (a, b) {\n        return a.time - b.time;\n      });\n    }\n  }, {\n    key: \"_findCurNum\",\n    value: function _findCurNum(time) {\n      for (var i = 0; i < this.lines.length; i++) {\n        if (time <= this.lines[i].time) {\n          return i;\n        }\n      }\n\n      return this.lines.length - 1;\n    }\n  }, {\n    key: \"_callHandler\",\n    value: function _callHandler(i) {\n      if (i < 0) {\n        return;\n      }\n\n      this.handler({\n        txt: this.lines[i].txt,\n        lineNum: i\n      });\n    }\n  }, {\n    key: \"_playRest\",\n    value: function _playRest() {\n      var _this = this;\n\n      var line = this.lines[this.curNum];\n      var delay = line.time - (+new Date() - this.startStamp);\n      this.timer = setTimeout(function () {\n        _this._callHandler(_this.curNum++);\n\n        if (_this.curNum < _this.lines.length && _this.state === STATE_PLAYING) {\n          _this._playRest();\n        }\n      }, delay);\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      var startTime = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var skipLast = arguments.length > 1 ? arguments[1] : undefined;\n\n      if (!this.lines.length) {\n        return;\n      }\n\n      this.state = STATE_PLAYING;\n      this.curNum = this._findCurNum(startTime);\n      this.startStamp = +new Date() - startTime;\n\n      if (!skipLast) {\n        this._callHandler(this.curNum - 1);\n      }\n\n      if (this.curNum < this.lines.length) {\n        clearTimeout(this.timer);\n\n        this._playRest();\n      }\n    }\n  }, {\n    key: \"togglePlay\",\n    value: function togglePlay() {\n      var now = +new Date();\n\n      if (this.state === STATE_PLAYING) {\n        this.stop();\n        this.pauseStamp = now;\n      } else {\n        this.state = STATE_PLAYING;\n        this.play((this.pauseStamp || now) - (this.startStamp || now), true);\n        this.pauseStamp = 0;\n      }\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.state = STATE_PAUSE;\n      clearTimeout(this.timer);\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(offset) {\n      this.play(offset);\n    }\n  }]);\n\n  return Lyric;\n}();\n\nexport { Lyric as default };"]},"metadata":{},"sourceType":"module"}