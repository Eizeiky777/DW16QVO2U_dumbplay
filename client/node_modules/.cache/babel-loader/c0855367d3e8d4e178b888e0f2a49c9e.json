{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/**\n * @version 4.15.1\n * @name react-jinke-music-player\n * @description Maybe the best beautiful HTML5 responsive player component for react :)\n * @author Jinke.Li <1359518268@qq.com>\n * TODO: 如果有空的话 (估计没有),发布 5.0,\n    1. 使用 typescript + react hooks 重构 :)\n    4. 精简api\n    6. 使用 antd icon\n    8. 移除歌词功能\n */\n// FIXME: 歌词不能暂停\n\n\nimport React, { PureComponent } from 'react';\nimport { createPortal } from 'react-dom';\nimport cls from 'classnames';\nimport isMobile from 'is-mobile';\nimport Slider from 'rc-slider/lib/Slider';\nimport Switch from 'rc-switch';\nimport download from 'downloadjs';\nimport Draggable from 'react-draggable';\nimport { formatTime, createRandomNum, arrayEqual, uuId, isSafari } from './utils';\nimport AudioListsPanel from './components/AudioListsPanel';\nimport AudioPlayerMobile from './components/PlayerMobile';\nimport Lyric from './lyric';\nimport { FaMinusSquareOIcon, LyricIcon, ReloadIcon, MdVolumeDownIcon, MdVolumeMuteIcon, DownloadIcon, LoopIcon, RepeatIcon, ShufflePlayIcon, OrderPlayIcon, PlayLists, NextAudioIcon, PrevAudioIcon, CloseIcon, DeleteIcon, AnimatePlayIcon, AnimatePauseIcon } from './components/Icon';\nimport CircleProcessBar from './components/CircleProcessBar';\nimport Load from './components/Load';\nimport PlayModel from './components/PlayModel';\nimport { sliderBaseOptions } from './config/slider';\nimport { SPACE_BAR_KEYCODE } from './config/keycode';\nimport PROP_TYPES from './config/propTypes';\nimport LOCALE from './config/locale';\nimport NETWORK_STATE from './config/networkState';\nimport { AUDIO_LIST_REMOVE_ANIMATE_TIME } from './config/animate';\nimport PLAY_MODE from './config/playMode';\nimport { THEME } from './config/theme';\nimport { MODE } from './config/mode';\nimport LOCALE_CONFIG from './locale';\nimport 'rc-slider/assets/index.css';\nimport 'rc-switch/assets/index.css';\nvar IS_MOBILE = isMobile();\n\nvar ReactJkMusicPlayer = /*#__PURE__*/function (_PureComponent) {\n  _inherits(ReactJkMusicPlayer, _PureComponent);\n\n  var _super = _createSuper(ReactJkMusicPlayer);\n\n  _createClass(ReactJkMusicPlayer, [{\n    key: \"locale\",\n    //初始播放id\n    get: function get() {\n      var locale = this.props.locale;\n\n      if (typeof locale === 'string') {\n        return LOCALE_CONFIG[this.props.locale];\n      }\n\n      return locale ? _objectSpread(_objectSpread({}, LOCALE_CONFIG[LOCALE.en_US]), locale) : {};\n    }\n  }, {\n    key: \"audioDuration\",\n    get: function get() {\n      var _this$state = this.state,\n          audioLists = _this$state.audioLists,\n          playId = _this$state.playId;\n\n      if (!audioLists.length || !this.audio) {\n        return 0;\n      }\n\n      var _ref = audioLists.find(function (audio) {\n        return audio.id === playId;\n      }) || {},\n          duration = _ref.duration;\n\n      return Math.max(Number(duration) || this.audio.duration || 0, 0);\n    }\n  }, {\n    key: \"isAudioCanPlay\",\n    get: function get() {\n      var autoPlay = this.props.autoPlay;\n      var _this$state2 = this.state,\n          isInitAutoPlay = _this$state2.isInitAutoPlay,\n          isAutoPlayWhenUserClicked = _this$state2.isAutoPlayWhenUserClicked;\n      return isInitAutoPlay || autoPlay || isAutoPlayWhenUserClicked;\n    }\n  }]);\n\n  function ReactJkMusicPlayer(props) {\n    var _this;\n\n    _classCallCheck(this, ReactJkMusicPlayer);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"isDrag\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"initPlayId\", '');\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      audioLists: [],\n      playId: _this.initPlayId,\n      //播放id\n      name: '',\n      //当前歌曲名\n      cover: '',\n      //当前歌曲封面\n      singer: '',\n      //当前歌手\n      musicSrc: '',\n      //当前歌曲链\n      lyric: '',\n      // 当前歌词\n      currentLyric: '',\n      isMobile: IS_MOBILE,\n      toggle: _this.props.mode === MODE.FULL,\n      pause: true,\n      playing: false,\n      currentTime: 0,\n      isLoop: false,\n      soundValue: 100,\n      moveX: 0,\n      moveY: 0,\n      loading: false,\n      audioListsPanelVisible: false,\n      playModelNameVisible: false,\n      theme: _this.props.theme || _this.darkThemeName,\n      playMode: _this.props.playMode || _this.props.defaultPlayMode || '',\n      //当前播放模式\n      currentAudioVolume: 0,\n      //当前音量  静音后恢复到之前记录的音量\n      initAnimate: false,\n      isInitAutoPlay: _this.props.autoPlay,\n      isInitRemember: false,\n      loadProgress: 0,\n      removeId: -1,\n      isNeedMobileHack: IS_MOBILE,\n      audioLyricVisible: false,\n      isAutoPlayWhenUserClicked: false,\n      playIndex: _this.props.playIndex || _this.props.defaultPlayIndex || 0\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPlayIndex\", function () {\n      var playIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.state.playIndex;\n      var audioLists = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.state.audioLists;\n      return Math.max(0, Math.min(audioLists.length - 1, playIndex));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onCoverClick\", function () {\n      var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : MODE.FULL;\n\n      if (_this.props.onCoverClick) {\n        _this.props.onCoverClick(mode, _this.state.audioLists, _this.getBaseAudioInfo());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getAudioTitle\", function () {\n      // 暂时兼容\n      var _ref2 = _this.locale || {},\n          audioTitle = _ref2.audioTitle;\n\n      var _this$state3 = _this.state,\n          name = _this$state3.name,\n          singer = _this$state3.singer;\n\n      if (typeof audioTitle === 'function' && _this.audio) {\n        return audioTitle(_this.getBaseAudioInfo());\n      }\n\n      return audioTitle || \"\".concat(name, \" \").concat(singer ? \"- \".concat(singer) : '');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleAudioLyric\", function () {\n      _this.setState({\n        audioLyricVisible: !_this.state.audioLyricVisible\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"togglePlayMode\", function () {\n      var index = _this._PLAY_MODE_.findIndex(function (mode) {\n        return mode === _this.state.playMode;\n      });\n\n      var playMode = index === _this._PLAY_MODE_LENGTH_ - 1 ? _this._PLAY_MODE_[0] : _this._PLAY_MODE_[++index];\n\n      _this.setState({\n        playMode: playMode,\n        playModelNameVisible: true,\n        playModeTipVisible: true\n      });\n\n      _this.props.onPlayModeChange && _this.props.onPlayModeChange(playMode);\n      clearTimeout(_this.playModelTimer);\n      _this.playModelTimer = setTimeout(function () {\n        _this.setState({\n          playModelNameVisible: false,\n          playModeTipVisible: false\n        });\n      }, _this.props.playModeShowTime);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderPlayModeIcon\", function (playMode) {\n      var IconNode = '';\n      var animateName = 'react-jinke-music-player-mode-icon';\n\n      switch (playMode) {\n        case PLAY_MODE.order:\n          IconNode = /*#__PURE__*/React.createElement(OrderPlayIcon, {\n            className: animateName\n          });\n          break;\n\n        case PLAY_MODE.orderLoop:\n          IconNode = /*#__PURE__*/React.createElement(RepeatIcon, {\n            className: animateName\n          });\n          break;\n\n        case PLAY_MODE.singleLoop:\n          IconNode = /*#__PURE__*/React.createElement(LoopIcon, {\n            className: animateName\n          });\n          break;\n\n        case PLAY_MODE.shufflePlay:\n          IconNode = /*#__PURE__*/React.createElement(ShufflePlayIcon, {\n            className: animateName\n          });\n          break;\n\n        default:\n          IconNode = /*#__PURE__*/React.createElement(OrderPlayIcon, {\n            className: animateName\n          });\n      }\n\n      return IconNode;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioListsPlay\", function (playId) {\n      var ignore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var state = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this.state;\n      var currentPlayId = state.playId,\n          pause = state.pause,\n          playing = state.playing,\n          audioLists = state.audioLists;\n\n      if (Array.isArray(audioLists) && audioLists.length === 0) {\n        return console.warn('Warning: Your playlist has no songs. and cannot play !');\n      } //如果点击当前项 就暂停 或者播放\n\n\n      if (playId === currentPlayId && !ignore) {\n        _this.setState({\n          pause: !pause,\n          playing: !playing\n        });\n\n        return pause ? _this.audio.play() : _this._pauseAudio();\n      }\n\n      var playIndex = audioLists.findIndex(function (audio) {\n        return audio.id === playId;\n      });\n\n      var _ref3 = audioLists[playIndex] || {},\n          name = _ref3.name,\n          cover = _ref3.cover,\n          musicSrc = _ref3.musicSrc,\n          singer = _ref3.singer,\n          _ref3$lyric = _ref3.lyric,\n          lyric = _ref3$lyric === void 0 ? '' : _ref3$lyric;\n\n      var loadAudio = function loadAudio(musicSrc) {\n        _this.setState({\n          name: name,\n          cover: cover,\n          musicSrc: musicSrc,\n          singer: singer,\n          playId: playId,\n          lyric: lyric,\n          currentTime: 0,\n          playing: false,\n          loading: true,\n          loadProgress: 0,\n          playIndex: playIndex,\n          isAutoPlayWhenUserClicked: true\n        }, function () {\n          _this.audio.load();\n\n          _this.initLyricParser();\n\n          _this.updateMediaSessionMetadata();\n        });\n\n        _this.props.onAudioPlay && _this.props.onAudioPlay(_this.getBaseAudioInfo());\n        _this.props.onAudioPlayTrackChange && _this.props.onAudioPlayTrackChange(playId, audioLists, _this.getBaseAudioInfo());\n        _this.props.onPlayIndexChange && _this.props.onPlayIndexChange(playIndex);\n      };\n\n      switch (_typeof(musicSrc)) {\n        case 'function':\n          musicSrc().then(loadAudio, _this.onAudioError);\n          break;\n\n        default:\n          loadAudio(musicSrc);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetAudioStatus\", function () {\n      _this.audio.pause();\n\n      _this.initPlayInfo([]);\n\n      _this.setState({\n        currentTime: 0,\n        loading: false,\n        playing: false,\n        pause: true,\n        currentLyric: '',\n        playId: _this.initPlayId\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"deleteAudioLists\", function (audioId) {\n      return function (e) {\n        e.stopPropagation(); //如果不 传 id  删除全部\n\n        var _this$state4 = _this.state,\n            audioLists = _this$state4.audioLists,\n            playId = _this$state4.playId;\n\n        if (audioLists.length < 1) {\n          return;\n        }\n\n        _this.lyric && _this.lyric.stop();\n\n        if (!audioId) {\n          _this.props.onAudioListsChange && _this.props.onAudioListsChange('', [], {});\n          return _this.resetAudioStatus();\n        }\n\n        var newAudioLists = _toConsumableArray(audioLists).filter(function (audio) {\n          return audio.id !== audioId;\n        }); //触发删除动画,等动画结束 删除列表\n\n\n        _this.setState({\n          removeId: audioId\n        });\n\n        setTimeout(function () {\n          _this.setState({\n            audioLists: newAudioLists,\n            removeId: -1\n          }, function () {\n            if (!newAudioLists.length) {\n              return _this.resetAudioStatus();\n            } // 如果删除的是当前正在播放的 顺延下一首播放\n\n\n            if (audioId === playId) {\n              _this.handlePlay(PLAY_MODE.orderLoop);\n            }\n          });\n        }, AUDIO_LIST_REMOVE_ANIMATE_TIME);\n        _this.props.onAudioListsChange && _this.props.onAudioListsChange(playId, newAudioLists, _this.getBaseAudioInfo());\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"openAudioListsPanel\", function () {\n      _this.setState(function (_ref4) {\n        var audioListsPanelVisible = _ref4.audioListsPanelVisible;\n        return {\n          initAnimate: true,\n          audioListsPanelVisible: !audioListsPanelVisible\n        };\n      });\n\n      _this.props.onAudioListsPanelChange && _this.props.onAudioListsPanelChange(!_this.state.audioListsPanelVisible);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"closeAudioListsPanel\", function (e) {\n      e.stopPropagation();\n\n      _this._closeAudioListsPanel();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_closeAudioListsPanel\", function () {\n      _this.setState({\n        audioListsPanelVisible: false\n      });\n\n      _this.props.onAudioListsPanelChange && _this.props.onAudioListsPanelChange(false);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"themeChange\", function (isLight) {\n      var theme = isLight ? THEME.LIGHT : THEME.DARK;\n\n      _this.setState({\n        theme: theme\n      });\n\n      _this.props.onThemeChange && _this.props.onThemeChange(theme);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioDownload\", function () {\n      var musicSrc = _this.state.musicSrc;\n\n      if (_this.state.musicSrc) {\n        var customDownloader = _this.props.customDownloader;\n\n        var baseAudioInfo = _this.getBaseAudioInfo();\n\n        var onBeforeAudioDownload = _this.props.onBeforeAudioDownload(baseAudioInfo);\n\n        var transformedDownloadAudioInfo = {};\n\n        if (onBeforeAudioDownload && onBeforeAudioDownload.then) {\n          onBeforeAudioDownload.then(function (info) {\n            var src = info.src,\n                filename = info.filename,\n                mimeType = info.mimeType;\n            transformedDownloadAudioInfo = info;\n\n            if (customDownloader) {\n              customDownloader(info);\n            } else {\n              download(src, filename, mimeType);\n            }\n          });\n        } else {\n          customDownloader ? customDownloader({\n            src: musicSrc\n          }) : download(musicSrc);\n        }\n\n        _this.props.onAudioDownload && _this.props.onAudioDownload(baseAudioInfo, transformedDownloadAudioInfo);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onControllerDrag\", function () {\n      _this.isDrag = true;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onControllerDragStart\", function () {\n      _this.isDrag = false;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onControllerDragStop\", function (e, _ref5) {\n      var x = _ref5.x,\n          y = _ref5.y;\n\n      if (_this.props.showDestroy && _this.destroyBtn && _this.destroyBtn.contains(e.target)) {\n        _this.onDestroyPlayer();\n\n        return;\n      }\n\n      if (!_this.isDrag) {\n        if (_this.state.isNeedMobileHack) {\n          _this.loadAndPlayAudio();\n\n          _this.setState({\n            isNeedMobileHack: false\n          });\n        }\n\n        _this.openPanel();\n\n        _this.onCoverClick(MODE.MINI);\n      }\n\n      _this.setState({\n        moveX: x,\n        moveY: y\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onHandleProgress\", function (value) {\n      _this.audio.currentTime = value;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSound\", function () {\n      _this.setAudioVolume(_this.state.currentAudioVolume);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setAudioVolume\", function (value) {\n      _this.audio.volume = value;\n\n      _this.setState({\n        currentAudioVolume: value,\n        soundValue: value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"stopAll\", function (target) {\n      target.stopPropagation();\n      target.preventDefault();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getBoundingClientRect\", function (ele) {\n      var _ele$getBoundingClien = ele.getBoundingClientRect(),\n          left = _ele$getBoundingClien.left,\n          top = _ele$getBoundingClien.top;\n\n      return {\n        left: left,\n        top: top\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioLoop\", function () {\n      _this.setState(function (_ref6) {\n        var isLoop = _ref6.isLoop;\n        return {\n          isLoop: !isLoop\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioReload\", function () {\n      if (_this.props.audioLists.length) {\n        _this.handlePlay(PLAY_MODE.singleLoop);\n\n        _this.props.onAudioReload && _this.props.onAudioReload(_this.getBaseAudioInfo());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"openPanel\", function () {\n      var _this$props = _this.props,\n          toggleMode = _this$props.toggleMode,\n          spaceBar = _this$props.spaceBar;\n\n      if (toggleMode) {\n        _this.setState({\n          toggle: true\n        });\n\n        _this.props.onModeChange && _this.props.onModeChange(MODE.FULL);\n\n        if (spaceBar && _this.player.current) {\n          _this.player.current.focus();\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onHidePanel\", function () {\n      _this.setState({\n        toggle: false,\n        audioListsPanelVisible: false\n      });\n\n      _this.props.onModeChange && _this.props.onModeChange(MODE.MINI);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDestroyPlayer\", function () {\n      if (_this.props.onBeforeDestroy) {\n        var onBeforeDestroy = Promise.resolve(_this.props.onBeforeDestroy(_this.state.playId, _this.state.audioLists, _this.getBaseAudioInfo()));\n\n        if (onBeforeDestroy && onBeforeDestroy.then) {\n          onBeforeDestroy.then(function () {\n            _this._onDestroyPlayer();\n          }) // ignore unhandledrejection handler\n          [\"catch\"](function () {});\n        }\n\n        return;\n      }\n\n      _this._onDestroyPlayer();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDestroyPlayer\", function () {\n      _this.unInstallPlayer();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDestroyed\", function () {\n      _this.setState({\n        isPlayDestroyed: true\n      });\n\n      if (_this.props.onDestroyed) {\n        _this.props.onDestroyed(_this.state.playId, _this.state.audioLists, _this.getBaseAudioInfo());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getCurrentPlayIndex\", function () {\n      return _this.state.audioLists.findIndex(function (audio) {\n        return audio.id === _this.state.playId;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTogglePlay\", function () {\n      if (_this.state.audioLists.length >= 1) {\n        _this.lyric.togglePlay();\n\n        if (_this.state.playing) {\n          return _this._pauseAudio();\n        }\n\n        _this.setState( // lgtm [js/react/inconsistent-state-update]\n        {\n          isAutoPlayWhenUserClicked: true\n        }, _this.loadAndPlayAudio);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"canPlay\", function () {\n      _this.setState({\n        loading: false,\n        playing: false\n      });\n\n      if (_this.isAudioCanPlay) {\n        _this.loadAndPlayAudio();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_pauseAudio\", function () {\n      _this.audio.pause();\n\n      _this.setState({\n        playing: false,\n        pause: true\n      }, function () {\n        _this.lyric && _this.lyric.stop();\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPauseAudio\", function () {\n      _this._pauseAudio();\n\n      _this.lyric && _this.lyric.stop();\n      _this.props.onAudioPause && _this.props.onAudioPause(_this.getBaseAudioInfo());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loadAndPlayAudio\", function () {\n      var remember = _this.props.remember;\n      var _this$state5 = _this.state,\n          isInitRemember = _this$state5.isInitRemember,\n          loadProgress = _this$state5.loadProgress;\n      var networkState = _this.audio.networkState;\n      var maxLoadProgress = 100;\n\n      _this.setState({\n        loading: true\n      });\n\n      if (loadProgress < maxLoadProgress) {\n        _this.setState({\n          loadProgress: loadProgress + 1\n        });\n      }\n\n      if (networkState !== NETWORK_STATE.NETWORK_NO_SOURCE) {\n        var _this$getLastPlayStat = _this.getLastPlayStatus(),\n            pause = _this$getLastPlayStat.pause;\n\n        var isLastPause = remember && !isInitRemember && pause;\n\n        _this.setState({\n          playing: remember ? !isLastPause : _this.isAudioCanPlay,\n          loading: false,\n          pause: remember ? isLastPause : !_this.isAudioCanPlay,\n          loadProgress: maxLoadProgress\n        }, function () {\n          if (remember ? !isLastPause : _this.isAudioCanPlay) {\n            // fuck Safari is need muted :(\n            // this.audio.muted = true\n            _this.audio.play();\n          }\n\n          _this.setState({\n            isInitAutoPlay: true,\n            isInitRemember: true,\n            isAutoPlayWhenUserClicked: false\n          });\n        });\n      } else {\n        _this.onAudioError({\n          reason: '[loadAndPlayAudio]: Failed to load because no supported source was found.'\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioError\", function (error) {\n      var _this$state6 = _this.state,\n          playMode = _this$state6.playMode,\n          audioLists = _this$state6.audioLists,\n          playId = _this$state6.playId,\n          musicSrc = _this$state6.musicSrc;\n      var loadAudioErrorPlayNext = _this.props.loadAudioErrorPlayNext;\n      var isSingleLoop = playMode === PLAY_MODE.singleLoop;\n      var currentPlayMode = isSingleLoop ? PLAY_MODE.order : playMode;\n\n      _this.lyric.stop(); //如果当前音乐加载出错 尝试播放下一首\n\n\n      if (loadAudioErrorPlayNext && audioLists.length) {\n        var isLastAudio = (playMode === PLAY_MODE.order || playMode === PLAY_MODE.orderLoop) && playId === audioLists[audioLists.length - 1].id;\n\n        if (!isLastAudio) {\n          _this.handlePlay(currentPlayMode, true);\n        }\n      } // 如果删除歌曲或其他原因导致列表为空时\n      // 这时候会触发 https://developer.mozilla.org/en-US/docs/Web/API/MediaError\n\n\n      if (musicSrc) {\n        _this.props.onAudioError && _this.props.onAudioError(_this.audio.error || error && error.reason || null, playId, audioLists, _this.getBaseAudioInfo());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handlePlay\", function (playMode) {\n      var isNext = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var _this$state7 = _this.state,\n          playId = _this$state7.playId,\n          audioLists = _this$state7.audioLists;\n      var audioListsLen = audioLists.length;\n\n      if (!audioListsLen) {\n        return;\n      }\n\n      var currentPlayIndex = _this.getCurrentPlayIndex();\n\n      switch (playMode) {\n        //顺序播放\n        case PLAY_MODE.order:\n          // 拖拽排序后 或者 正常播放 到最后一首歌 就暂停\n          if (currentPlayIndex === audioListsLen - 1) return _this._pauseAudio();\n\n          _this.audioListsPlay(isNext ? audioLists[currentPlayIndex + 1].id : audioLists[currentPlayIndex - 1].id);\n\n          break;\n        //列表循环\n\n        case PLAY_MODE.orderLoop:\n          if (isNext) {\n            if (currentPlayIndex === audioListsLen - 1) {\n              return _this.audioListsPlay(audioLists[0].id);\n            }\n\n            _this.audioListsPlay(audioLists[currentPlayIndex + 1].id);\n          } else {\n            if (currentPlayIndex === 0) {\n              return _this.audioListsPlay(audioLists[audioListsLen - 1].id);\n            }\n\n            _this.audioListsPlay(audioLists[currentPlayIndex - 1].id);\n          }\n\n          break;\n        //单曲循环\n\n        case PLAY_MODE.singleLoop:\n          _this.audio.currentTime = 0;\n\n          _this.audioListsPlay(playId, true);\n\n          break;\n        //随机播放\n\n        case PLAY_MODE.shufflePlay:\n          {\n            var randomIndex = createRandomNum(0, audioListsLen - 1);\n\n            var _currentPlayIndex = _this.getCurrentPlayIndex();\n\n            if (randomIndex === _currentPlayIndex) {\n              randomIndex = _this.getPlayIndex(randomIndex + 1);\n            }\n\n            var randomPlayId = (audioLists[randomIndex] || {}).id;\n\n            _this.audioListsPlay(randomPlayId, true);\n          }\n          break;\n\n        default:\n          break;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioEnd\", function () {\n      _this.props.onAudioEnded && _this.props.onAudioEnded(_this.state.playId, _this.state.audioLists, _this.getBaseAudioInfo());\n\n      _this.handlePlay(_this.state.playMode);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioPrevAndNextBasePlayHandle\", function () {\n      var isNext = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var playMode = _this.state.playMode;\n      var _playMode = '';\n\n      switch (playMode) {\n        case PLAY_MODE.shufflePlay:\n          _playMode = playMode;\n          break;\n\n        default:\n          _playMode = PLAY_MODE.orderLoop;\n          break;\n      }\n\n      _this.handlePlay(_playMode, isNext);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioPrevPlay\", function () {\n      _this.audioPrevAndNextBasePlayHandle(false);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioNextPlay\", function () {\n      _this.audioPrevAndNextBasePlayHandle(true);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioTimeUpdate\", function () {\n      var currentTime = _this.audio.currentTime;\n\n      _this.setState({\n        currentTime: currentTime\n      });\n\n      if (_this.props.remember) {\n        _this.saveLastPlayStatus();\n      }\n\n      _this.props.onAudioProgress && _this.props.onAudioProgress(_this.getBaseAudioInfo());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioSoundChange\", function (value) {\n      _this.setAudioVolume(value);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioVolumeChange\", function () {\n      var volume = _this.audio.volume;\n\n      _this.setState({\n        soundValue: volume\n      });\n\n      _this.props.onAudioVolumeChange && _this.props.onAudioVolumeChange(volume);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioPlay\", function () {\n      _this.setState({\n        playing: true,\n        loading: false\n      }, _this.initLyricParser);\n\n      _this.props.onAudioPlay && _this.props.onAudioPlay(_this.getBaseAudioInfo());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioSeeked\", function () {\n      if (_this.state.audioLists.length >= 1) {\n        if (_this.state.playing) {\n          _this.setState({\n            playing: true\n          }, function () {\n            _this.loadAndPlayAudio();\n\n            _this.lyric.seek(_this.getLyricPlayTime());\n          });\n        }\n\n        _this.props.onAudioSeeked && _this.props.onAudioSeeked(_this.getBaseAudioInfo());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMute\", function () {\n      _this.setState({\n        soundValue: 0,\n        currentAudioVolume: _this.audio.volume\n      }, function () {\n        _this.audio.volume = 0;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioAbort\", function (e) {\n      var _this$state8 = _this.state,\n          audioLists = _this$state8.audioLists,\n          playId = _this$state8.playId;\n\n      var audioInfo = _this.getBaseAudioInfo();\n\n      var mergedAudioInfo = Object.assign({}, e, audioInfo);\n      _this.props.onAudioAbort && _this.props.onAudioAbort(playId, audioLists, mergedAudioInfo);\n\n      if (audioLists.length) {\n        _this.audio.pause();\n\n        _this.state.isInitAutoPlay && _this.audio.play();\n\n        _this.lyric.stop();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleMode\", function (mode) {\n      if (mode === MODE.FULL) {\n        _this.setState({\n          toggle: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleTheme\", function (theme) {\n      _this.setState({\n        theme: theme\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioListsDragEnd\", function (fromIndex, toIndex) {\n      var _this$state9 = _this.state,\n          playId = _this$state9.playId,\n          audioLists = _this$state9.audioLists;\n\n      var _audioLists = _toConsumableArray(audioLists);\n\n      var item = _audioLists.splice(fromIndex, 1)[0];\n\n      _audioLists.splice(toIndex, 0, item); //如果拖动正在播放的歌曲 播放Id 等于 拖动后的index\n\n\n      var _playId = fromIndex === playId ? toIndex : playId;\n\n      _this.setState({\n        audioLists: _audioLists,\n        playId: _playId\n      });\n\n      _this.props.onAudioListsDragEnd && _this.props.onAudioListsDragEnd(fromIndex, toIndex);\n      _this.props.onAudioListsChange && _this.props.onAudioListsChange(_playId, _audioLists, _this.getBaseAudioInfo());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"saveLastPlayStatus\", function () {\n      var _this$state10 = _this.state,\n          currentTime = _this$state10.currentTime,\n          playId = _this$state10.playId,\n          theme = _this$state10.theme,\n          soundValue = _this$state10.soundValue,\n          playMode = _this$state10.playMode,\n          name = _this$state10.name,\n          cover = _this$state10.cover,\n          singer = _this$state10.singer,\n          musicSrc = _this$state10.musicSrc,\n          pause = _this$state10.pause;\n      var lastPlayStatus = JSON.stringify({\n        currentTime: currentTime,\n        playId: playId,\n        theme: theme,\n        playMode: playMode,\n        soundValue: soundValue,\n        name: name,\n        cover: cover,\n        singer: singer,\n        musicSrc: musicSrc,\n        pause: pause\n      });\n      localStorage.setItem('lastPlayStatus', lastPlayStatus);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getLastPlayStatus\", function () {\n      var _this$props2 = _this.props,\n          theme = _this$props2.theme,\n          defaultPlayMode = _this$props2.defaultPlayMode,\n          playMode = _this$props2.playMode,\n          defaultPlayIndex = _this$props2.defaultPlayIndex,\n          playIndex = _this$props2.playIndex;\n      var status = {\n        currentTime: 0,\n        playMode: playMode || defaultPlayMode || PLAY_MODE.order,\n        name: '',\n        cover: '',\n        singer: '',\n        musicSrc: '',\n        lyric: '',\n        playId: _this.getDefaultPlayId(),\n        theme: theme,\n        pause: false,\n        playIndex: playIndex || defaultPlayIndex || 0\n      };\n\n      try {\n        return JSON.parse(localStorage.getItem('lastPlayStatus')) || status;\n      } catch (error) {\n        return status;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mockAutoPlayForMobile\", function () {\n      if (_this.props.autoPlay && !_this.state.playing && _this.state.pause) {\n        _this.audio.load();\n\n        _this.audio.pause();\n\n        _this.audio.play();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindMobileAutoPlayEvents\", function () {\n      document.addEventListener('touchstart', function () {\n        _this.mockAutoPlayForMobile();\n      }, {\n        once: true\n      }); //监听微信准备就绪事件\n\n      document.addEventListener('WeixinJSBridgeReady', function () {\n        _this.mockAutoPlayForMobile();\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindSafariAutoPlayEvents\", function () {\n      document.addEventListener('click', function () {\n        _this.mockAutoPlayForMobile();\n      }, {\n        once: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unBindEvents\", function () {\n      var _this2;\n\n      (_this2 = _this).bindEvents.apply(_this2, arguments);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindEvents\", function () {\n      var target = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.audio;\n      var eventsNames = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        waiting: _this.loadAndPlayAudio,\n        canplay: _this.canPlay,\n        error: _this.onAudioError,\n        ended: _this.audioEnd,\n        seeked: _this.onAudioSeeked,\n        pause: _this.onPauseAudio,\n        play: _this.onAudioPlay,\n        timeupdate: _this.audioTimeUpdate,\n        volumechange: _this.onAudioVolumeChange,\n        stalled: _this.onAudioError,\n        //当浏览器尝试获取媒体数据，但数据不可用时\n        abort: _this.onAudioAbort\n      };\n      var bind = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var once = _this.props.once;\n\n      for (var name in eventsNames) {\n        var _events = eventsNames[name];\n\n        if (target) {\n          bind ? target.addEventListener(name, _events, {\n            once: !!(once && name === 'play')\n          }) : target.removeEventListener(name, _events);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPlayId\", function () {\n      var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.state.audioLists;\n\n      var playIndex = _this.getPlayIndex(undefined, audioLists);\n\n      var playId = _this.state.playId || audioLists[playIndex] && audioLists[playIndex].id;\n      return playId;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_getPlayInfo\", function () {\n      var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      var playId = _this.getPlayId(audioLists);\n\n      var _ref7 = audioLists.find(function (_ref8) {\n        var id = _ref8.id;\n        return id === playId;\n      }) || {},\n          _ref7$name = _ref7.name,\n          name = _ref7$name === void 0 ? '' : _ref7$name,\n          _ref7$cover = _ref7.cover,\n          cover = _ref7$cover === void 0 ? '' : _ref7$cover,\n          _ref7$singer = _ref7.singer,\n          singer = _ref7$singer === void 0 ? '' : _ref7$singer,\n          _ref7$musicSrc = _ref7.musicSrc,\n          musicSrc = _ref7$musicSrc === void 0 ? '' : _ref7$musicSrc,\n          _ref7$lyric = _ref7.lyric,\n          lyric = _ref7$lyric === void 0 ? '' : _ref7$lyric;\n\n      return {\n        name: name,\n        cover: cover,\n        singer: singer,\n        musicSrc: musicSrc,\n        lyric: lyric,\n        audioLists: audioLists,\n        playId: playId\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPlayInfo\", function () {\n      var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var newAudioLists = audioLists.filter(function (audio) {\n        return !audio['id'];\n      });\n      var lastAudioLists = audioLists.filter(function (audio) {\n        return audio['id'];\n      });\n      var mergedAudioLists = [].concat(_toConsumableArray(lastAudioLists), _toConsumableArray(newAudioLists.map(function (info) {\n        return _objectSpread(_objectSpread({}, info), {}, {\n          id: uuId()\n        });\n      })));\n      return _this._getPlayInfo(mergedAudioLists);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPlayInfoOfNewList\", function () {\n      var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      var _audioLists = audioLists.map(function (info) {\n        return _objectSpread(_objectSpread({}, info), {}, {\n          id: uuId()\n        });\n      });\n\n      return _this._getPlayInfo(_audioLists);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"initPlayInfo\", function (audioLists, cb) {\n      var info = _this.getPlayInfo(audioLists);\n\n      switch (_typeof(info.musicSrc)) {\n        case 'function':\n          info.musicSrc().then(function (originMusicSrc) {\n            _this.setState(_objectSpread(_objectSpread({}, info), {}, {\n              musicSrc: originMusicSrc\n            }), cb);\n          }, _this.onAudioError);\n          break;\n\n        default:\n          _this.setState(info, cb);\n\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"listenerIsMobile\", function (_ref9) {\n      var matches = _ref9.matches;\n\n      _this.setState({\n        isMobile: !!matches\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addMobileListener\", function () {\n      _this.media = window.matchMedia('(max-width: 768px) and (orientation : portrait)');\n\n      _this.media.addListener(_this.listenerIsMobile);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setDefaultAudioVolume\", function () {\n      var _this$props3 = _this.props,\n          defaultVolume = _this$props3.defaultVolume,\n          remember = _this$props3.remember; //音量 [0-1]\n\n      _this.defaultVolume = Math.max(0, Math.min(defaultVolume, 1));\n\n      var _this$getLastPlayStat2 = _this.getLastPlayStatus(),\n          _this$getLastPlayStat3 = _this$getLastPlayStat2.soundValue,\n          soundValue = _this$getLastPlayStat3 === void 0 ? _this.defaultVolume : _this$getLastPlayStat3;\n\n      _this.setAudioVolume(remember ? soundValue : _this.defaultVolume);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getDefaultPlayId\", function () {\n      var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props.audioLists;\n\n      var playIndex = _this.getPlayIndex();\n\n      return audioLists[playIndex] && audioLists[playIndex].id;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getLyricPlayTime\", function () {\n      var _formatTime$split = formatTime(_this.audio.currentTime).split(':'),\n          _formatTime$split2 = _slicedToArray(_formatTime$split, 2),\n          m = _formatTime$split2[0],\n          s = _formatTime$split2[1];\n\n      return m * 1000 + s * 10;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"initLyricParser\", function () {\n      _this.lyric = undefined;\n      _this.lyric = new Lyric(_this.state.lyric, _this.onLyricChange);\n\n      _this.lyric.stop();\n\n      if (_this.props.showLyric && _this.state.playing) {\n        _this.lyric.seek(_this.getLyricPlayTime());\n\n        _this.lyric.play();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLyricChange\", function (_ref10) {\n      var lineNum = _ref10.lineNum,\n          txt = _ref10.txt;\n\n      _this.setState({\n        currentLyric: txt\n      });\n\n      _this.props.onAudioLyricChange && _this.props.onAudioLyricChange(lineNum, txt);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateTheme\", function (theme) {\n      if (theme && theme !== _this.props.theme && Object.values(THEME).includes(theme)) {\n        _this.setState({\n          theme: theme\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateMode\", function (mode) {\n      if (mode && mode !== _this.props.mode && Object.values(MODE).includes(mode)) {\n        _this.setState({\n          toggle: mode === MODE.FULL\n        });\n\n        if (mode === MODE.MINI) {\n          _this._closeAudioListsPanel();\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updatePlayMode\", function (playMode) {\n      if (!Object.values(PLAY_MODE).includes(playMode)) {\n        return;\n      }\n\n      if (playMode !== _this.props.playMode) {\n        _this.setState({\n          playMode: playMode\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateAudioLists\", function (audioLists) {\n      var newAudioLists = [].concat(_toConsumableArray(_this.state.audioLists), _toConsumableArray(audioLists.filter(function (audio) {\n        return _this.state.audioLists.findIndex(function (v) {\n          return v.musicSrc === audio.musicSrc;\n        }) === -1;\n      })));\n\n      _this.initPlayInfo(newAudioLists);\n\n      _this.bindEvents(_this.audio);\n\n      _this.props.onAudioListsChange && _this.props.onAudioListsChange(_this.state.playId, audioLists, _this.getBaseAudioInfo());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loadNewAudioLists\", function (_ref11) {\n      var audioLists = _ref11.audioLists,\n          remember = _ref11.remember,\n          playMode = _ref11.playMode,\n          theme = _ref11.theme,\n          autoPlayInitLoadPlayList = _ref11.autoPlayInitLoadPlayList,\n          playIndex = _ref11.playIndex;\n\n      if (audioLists.length >= 1) {\n        var info = _this.getPlayInfoOfNewList(audioLists);\n\n        var lastPlayStatus = remember ? _this.getLastPlayStatus() : {\n          playMode: playMode || PLAY_MODE.order,\n          theme: theme,\n          playIndex: playIndex || 0\n        };\n\n        var audioInfo = _objectSpread(_objectSpread(_objectSpread({}, info), lastPlayStatus), {}, {\n          isInitAutoPlay: autoPlayInitLoadPlayList\n        });\n\n        switch (_typeof(info.musicSrc)) {\n          case 'function':\n            info.musicSrc().then(function (musicSrc) {\n              _this.setState(_objectSpread(_objectSpread({}, audioInfo), {}, {\n                musicSrc: musicSrc\n              }), function () {\n                _this.audio.load();\n              });\n            }, _this.onAudioError);\n            break;\n\n          default:\n            _this.setState(audioInfo, function () {\n              _this.audio.load();\n            });\n\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"changeAudioLists\", function (nextProps) {\n      _this.resetAudioStatus();\n\n      _this.loadNewAudioLists(nextProps);\n\n      _this.props.onAudioListsChange && _this.props.onAudioListsChange(_this.state.playId, nextProps.audioLists, _this.getBaseAudioInfo());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updatePlayIndex\", function (playIndex) {\n      var currentPlayIndex = _this.getCurrentPlayIndex();\n\n      if (playIndex !== undefined && currentPlayIndex !== playIndex) {\n        var currentPlay = _this.state.audioLists[_this.getPlayIndex(playIndex)];\n\n        if (currentPlay && currentPlay.id) {\n          _this.audioListsPlay(currentPlay.id, true);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onGetAudioInstance\", function () {\n      if (_this.props.getAudioInstance) {\n        Object.defineProperty(_this.audio, 'destroy', {\n          value: function value() {\n            _this.onDestroyPlayer();\n          },\n          writable: false\n        });\n\n        _this.props.getAudioInstance(_this.audio);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateMediaSessionMetadata\", function () {\n      if ('mediaSession' in navigator && _this.props.showMediaSession) {\n        var _this$state11 = _this.state,\n            name = _this$state11.name,\n            cover = _this$state11.cover,\n            singer = _this$state11.singer;\n        navigator.mediaSession.metadata = new MediaMetadata({\n          title: name,\n          artist: singer,\n          album: name,\n          artwork: ['96x96', '128x128', '192x192', '256x256', '384x384', '512x512'].map(function (size) {\n            return {\n              src: cover,\n              sizes: size,\n              type: 'image/png'\n            };\n          })\n        });\n\n        _this.updateMediaSessionPositionState();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateMediaSessionPositionState\", function () {\n      if ('setPositionState' in navigator.mediaSession) {\n        try {\n          var _assertThisInitialize = _assertThisInitialized(_this),\n              audio = _assertThisInitialize.audio;\n\n          navigator.mediaSession.setPositionState({\n            duration: _this.audioDuration,\n            playbackRate: audio.playbackRate || 1,\n            position: audio.currentTime || 0\n          });\n        } catch (error) {\n          console.error('setPositionState error: ', error);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAddMediaSession\", function () {\n      if ('mediaSession' in navigator && _this.props.showMediaSession) {\n        var defaultSkipTime = 10;\n\n        _this.updateMediaSessionMetadata();\n\n        navigator.mediaSession.setActionHandler('play', _this.onTogglePlay);\n        navigator.mediaSession.setActionHandler('pause', _this.onTogglePlay);\n        navigator.mediaSession.setActionHandler('seekbackward', function (details) {\n          var skipTime = details.seekOffset || defaultSkipTime;\n          _this.audio.currentTime = Math.max(_this.audio.currentTime - skipTime, 0);\n        });\n        navigator.mediaSession.setActionHandler('seekforward', function (details) {\n          var skipTime = details.seekOffset || defaultSkipTime;\n          _this.audio.currentTime = Math.min(_this.audio.currentTime + skipTime, _this.audioDuration);\n        });\n        navigator.mediaSession.setActionHandler('previoustrack', _this.audioPrevPlay);\n        navigator.mediaSession.setActionHandler('nexttrack', _this.audioNextPlay);\n\n        try {\n          navigator.mediaSession.setActionHandler('seekto', function (event) {\n            if (event.fastSeek && 'fastSeek' in _this.audio) {\n              _this.audio.fastSeek(event.seekTime);\n\n              return;\n            }\n\n            _this.audio.currentTime = event.seekTime;\n\n            _this.updateMediaSessionPositionState();\n          });\n        } catch (error) {\n          console.warn('Warning! The \"seekto\" media session action is not supported.');\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindUnhandledRejection\", function () {\n      window.addEventListener('unhandledrejection', _this.onAudioError);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unBindUnhandledRejection\", function () {\n      window.removeEventListener('unhandledrejection', _this.onAudioError);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindKeyDownEvents\", function () {\n      _this.player.current.addEventListener('keydown', _this.onKeyDown, false);\n\n      if (_this.props.spaceBar) {\n        _this.player.current && _this.player.current.focus();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unBindKeyDownEvents\", function () {\n      _this.player.current.removeEventListener('keydown', _this.onKeyDown, false);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onKeyDown\", function (e) {\n      var spaceBar = _this.props.spaceBar;\n\n      if (spaceBar && e.keyCode === SPACE_BAR_KEYCODE) {\n        _this.onTogglePlay();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"initPlayer\", function (audioLists) {\n      if (!Array.isArray(audioLists)) {\n        return;\n      }\n\n      if (audioLists.length) {\n        _this.setDefaultAudioVolume();\n\n        _this.bindUnhandledRejection();\n\n        _this.bindEvents(_this.audio);\n\n        _this.initLyricParser();\n\n        _this.onAddMediaSession();\n\n        if (IS_MOBILE) {\n          _this.bindMobileAutoPlayEvents();\n        } else {\n          _this.bindKeyDownEvents();\n        }\n\n        if (!IS_MOBILE && isSafari()) {\n          _this.bindSafariAutoPlayEvents();\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unInstallPlayer\", function () {\n      _this.unBindEvents(_this.audio, undefined, false);\n\n      _this.unBindUnhandledRejection();\n\n      _this.unBindKeyDownEvents();\n\n      if (_this.media) {\n        _this.media.removeListener(_this.listenerIsMobile);\n\n        _this.media = undefined;\n      }\n\n      if (_this.lyric) {\n        _this.lyric.stop();\n\n        _this.lyric = undefined;\n      }\n\n      _this._onDestroyed();\n    });\n\n    _this.audio = null;\n    _this.targetId = 'music-player-controller'; //播放模式配置\n\n    _this._PLAY_MODE_ = Object.values(PLAY_MODE);\n    _this._PLAY_MODE_LENGTH_ = _this._PLAY_MODE_.length;\n    _this.player = React.createRef();\n    return _this;\n  }\n\n  _createClass(ReactJkMusicPlayer, [{\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props4 = this.props,\n          className = _this$props4.className,\n          drag = _this$props4.drag,\n          style = _this$props4.style,\n          showDownload = _this$props4.showDownload,\n          showPlay = _this$props4.showPlay,\n          showReload = _this$props4.showReload,\n          showPlayMode = _this$props4.showPlayMode,\n          showThemeSwitch = _this$props4.showThemeSwitch,\n          toggleMode = _this$props4.toggleMode,\n          showMiniModeCover = _this$props4.showMiniModeCover,\n          extendsContent = _this$props4.extendsContent,\n          defaultPlayMode = _this$props4.defaultPlayMode,\n          seeked = _this$props4.seeked,\n          showProgressLoadBar = _this$props4.showProgressLoadBar,\n          bounds = _this$props4.bounds,\n          defaultPosition = _this$props4.defaultPosition,\n          showMiniProcessBar = _this$props4.showMiniProcessBar,\n          preload = _this$props4.preload,\n          glassBg = _this$props4.glassBg,\n          remove = _this$props4.remove,\n          lyricClassName = _this$props4.lyricClassName,\n          showLyric = _this$props4.showLyric,\n          emptyLyricText = _this$props4.emptyLyricText,\n          getContainer = _this$props4.getContainer,\n          autoHiddenCover = _this$props4.autoHiddenCover,\n          showDestroy = _this$props4.showDestroy,\n          responsive = _this$props4.responsive;\n      var locale = this.locale;\n      var _this$state12 = this.state,\n          toggle = _this$state12.toggle,\n          playing = _this$state12.playing,\n          currentTime = _this$state12.currentTime,\n          soundValue = _this$state12.soundValue,\n          moveX = _this$state12.moveX,\n          moveY = _this$state12.moveY,\n          loading = _this$state12.loading,\n          audioListsPanelVisible = _this$state12.audioListsPanelVisible,\n          pause = _this$state12.pause,\n          theme = _this$state12.theme,\n          name = _this$state12.name,\n          cover = _this$state12.cover,\n          singer = _this$state12.singer,\n          musicSrc = _this$state12.musicSrc,\n          playId = _this$state12.playId,\n          isMobile = _this$state12.isMobile,\n          playMode = _this$state12.playMode,\n          playModeTipVisible = _this$state12.playModeTipVisible,\n          playModelNameVisible = _this$state12.playModelNameVisible,\n          initAnimate = _this$state12.initAnimate,\n          loadProgress = _this$state12.loadProgress,\n          audioLists = _this$state12.audioLists,\n          removeId = _this$state12.removeId,\n          currentLyric = _this$state12.currentLyric,\n          audioLyricVisible = _this$state12.audioLyricVisible,\n          isPlayDestroyed = _this$state12.isPlayDestroyed;\n      var preloadState = preload === false || preload === 'none' ? {} : preload === true ? {\n        preload: 'auto'\n      } : {\n        preload: preload\n      };\n      var panelToggleAnimate = initAnimate ? {\n        show: audioListsPanelVisible,\n        hide: !audioListsPanelVisible\n      } : {\n        show: audioListsPanelVisible\n      };\n      var currentPlayMode = PLAY_MODE[playMode || defaultPlayMode] || PLAY_MODE.order;\n      var currentPlayModeName = locale.playModeText[currentPlayMode];\n      var isShowMiniModeCover = showMiniModeCover && !autoHiddenCover || autoHiddenCover && cover ? {\n        style: {\n          backgroundImage: \"url(\".concat(cover, \")\")\n        }\n      } : {};\n      var formattedCurrentTime = formatTime(currentTime);\n      var formattedAudioDuration = formatTime(this.audioDuration);\n      var progressHandler = seeked ? {\n        onChange: this.onHandleProgress,\n        onAfterChange: this.onAudioSeeked\n      } : {}; //进度条\n\n      var ProgressBar = /*#__PURE__*/React.createElement(Slider, _extends({\n        max: Math.ceil(this.audioDuration),\n        defaultValue: 0,\n        value: Math.ceil(currentTime)\n      }, progressHandler, sliderBaseOptions)); //下载按钮\n\n      var DownloadComponent = showDownload && /*#__PURE__*/React.createElement(\"span\", _extends({\n        className: \"group audio-download\"\n      }, _defineProperty({}, isMobile ? 'onTouchStart' : 'onClick', this.onAudioDownload), {\n        title: locale.downloadText\n      }), /*#__PURE__*/React.createElement(DownloadIcon, null)); //主题开关\n\n      var ThemeSwitchComponent = showThemeSwitch && /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group theme-switch\"\n      }, /*#__PURE__*/React.createElement(Switch, {\n        className: \"theme-switch-container\",\n        onChange: this.themeChange,\n        checkedChildren: locale.lightThemeText,\n        unCheckedChildren: locale.darkThemeText,\n        checked: theme === THEME.LIGHT,\n        title: locale.switchThemeText\n      })); //重放\n\n      var ReloadComponent = showReload && /*#__PURE__*/React.createElement(\"span\", _extends({\n        className: \"group reload-btn\"\n      }, isMobile ? {\n        onTouchStart: this.onAudioReload\n      } : {\n        onClick: this.onAudioReload\n      }, {\n        title: locale.reloadText\n      }), /*#__PURE__*/React.createElement(ReloadIcon, null)); //歌词\n\n      var LyricComponent = showLyric && /*#__PURE__*/React.createElement(\"span\", _extends({\n        className: cls('group lyric-btn', {\n          'lyric-btn-active': audioLyricVisible\n        })\n      }, isMobile ? {\n        onTouchStart: this.toggleAudioLyric\n      } : {\n        onClick: this.toggleAudioLyric\n      }, {\n        title: locale.toggleLyricText\n      }), /*#__PURE__*/React.createElement(LyricIcon, null)); //播放模式\n\n      var PlayModeComponent = showPlayMode && /*#__PURE__*/React.createElement(\"span\", _extends({\n        className: cls('group loop-btn')\n      }, isMobile ? {\n        onTouchStart: this.togglePlayMode\n      } : {\n        onClick: this.togglePlayMode\n      }, {\n        title: locale.playModeText[currentPlayMode]\n      }), this.renderPlayModeIcon(currentPlayMode));\n      var miniProcessBarR = isMobile ? 30 : 40;\n      var DestroyComponent = showDestroy && /*#__PURE__*/React.createElement(\"span\", _extends({\n        title: locale.destroyText,\n        className: \"group destroy-btn\",\n        ref: function ref(node) {\n          return _this3.destroyBtn = node;\n        }\n      }, !drag || toggle ? _defineProperty({}, isMobile ? 'onTouchStart' : 'onClick', this.onDestroyPlayer) : null), /*#__PURE__*/React.createElement(CloseIcon, null));\n      var AudioController = /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('react-jinke-music-player'),\n        style: defaultPosition,\n        tabIndex: \"-1\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('music-player')\n      }, showMiniProcessBar && /*#__PURE__*/React.createElement(CircleProcessBar, {\n        progress: currentTime / this.audioDuration,\n        r: miniProcessBarR\n      }), /*#__PURE__*/React.createElement(\"div\", _extends({\n        id: this.targetId,\n        className: cls('scale', 'music-player-controller', {\n          'music-player-playing': this.state.playing\n        })\n      }, isShowMiniModeCover), loading ? /*#__PURE__*/React.createElement(Load, null) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"controller-title\"\n      }, locale.controllerTitle), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"music-player-controller-setting\"\n      }, toggle ? locale.closeText : locale.openText))), DestroyComponent));\n      var container = getContainer() || document.body;\n      var audioTitle = this.getAudioTitle();\n\n      if (isPlayDestroyed) {\n        return null;\n      }\n\n      return createPortal( /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('react-jinke-music-player-main', {\n          'light-theme': theme === THEME.LIGHT,\n          'dark-theme': theme === THEME.DARK\n        }, className),\n        style: style,\n        ref: this.player,\n        tabIndex: \"-1\"\n      }, toggle && isMobile && responsive && /*#__PURE__*/React.createElement(AudioPlayerMobile, {\n        playing: playing,\n        loading: loading,\n        pause: pause,\n        name: name,\n        singer: singer,\n        cover: cover,\n        themeSwitch: ThemeSwitchComponent,\n        duration: formattedAudioDuration,\n        currentTime: formattedCurrentTime,\n        progressBar: ProgressBar,\n        onPlay: this.onTogglePlay,\n        currentPlayModeName: currentPlayModeName,\n        playMode: PlayModeComponent,\n        audioNextPlay: this.audioNextPlay,\n        audioPrevPlay: this.audioPrevPlay,\n        playListsIcon: /*#__PURE__*/React.createElement(PlayLists, null),\n        reloadIcon: ReloadComponent,\n        downloadIcon: DownloadComponent,\n        nextAudioIcon: /*#__PURE__*/React.createElement(NextAudioIcon, null),\n        prevAudioIcon: /*#__PURE__*/React.createElement(PrevAudioIcon, null),\n        playIcon: /*#__PURE__*/React.createElement(AnimatePlayIcon, null),\n        pauseIcon: /*#__PURE__*/React.createElement(AnimatePauseIcon, null),\n        closeIcon: /*#__PURE__*/React.createElement(CloseIcon, null),\n        loadingIcon: /*#__PURE__*/React.createElement(Load, null),\n        playModeTipVisible: playModeTipVisible,\n        openAudioListsPanel: this.openAudioListsPanel,\n        onClose: this.onHidePanel,\n        extendsContent: extendsContent,\n        glassBg: glassBg,\n        LyricIcon: LyricComponent,\n        autoHiddenCover: autoHiddenCover,\n        onCoverClick: this.onCoverClick\n      }), toggle ? undefined : drag ? /*#__PURE__*/React.createElement(Draggable, {\n        bounds: bounds,\n        position: {\n          x: moveX,\n          y: moveY\n        },\n        onDrag: this.onControllerDrag,\n        onStop: this.onControllerDragStop,\n        onStart: this.onControllerDragStart\n      }, AudioController) : AudioController, toggle && (!isMobile || !responsive) && /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('music-player-panel', 'translate', {\n          'glass-bg': glassBg\n        })\n      }, /*#__PURE__*/React.createElement(\"section\", {\n        className: \"panel-content\"\n      }, (!autoHiddenCover || autoHiddenCover && cover) && /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('img-content', 'img-rotate', {\n          'img-rotate-pause': pause || !playing || !cover\n        }),\n        style: {\n          backgroundImage: \"url(\".concat(cover, \")\")\n        },\n        onClick: function onClick() {\n          return _this3.onCoverClick();\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"progress-bar-content\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"audio-title\"\n      }, audioTitle), /*#__PURE__*/React.createElement(\"section\", {\n        className: \"audio-main\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"current-time\"\n      }, loading ? '--' : formattedCurrentTime), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"progress-bar\"\n      }, showProgressLoadBar && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"progress-load-bar\",\n        style: {\n          width: \"\".concat(Math.min(loadProgress, 100), \"%\")\n        }\n      }), ProgressBar), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"duration\"\n      }, loading ? '--' : formattedAudioDuration))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"player-content\"\n      }, loading ? /*#__PURE__*/React.createElement(Load, null) : showPlay ? /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group\"\n      }, /*#__PURE__*/React.createElement(\"span\", _extends({\n        className: \"group prev-audio\",\n        title: locale.previousTrackText\n      }, isMobile ? {\n        onTouchStart: this.audioPrevPlay\n      } : {\n        onClick: this.audioPrevPlay\n      }), /*#__PURE__*/React.createElement(PrevAudioIcon, null)), /*#__PURE__*/React.createElement(\"span\", _extends({\n        className: \"group play-btn\",\n        ref: function ref(node) {\n          return _this3.playBtn = node;\n        }\n      }, isMobile ? {\n        onTouchStart: this.onTogglePlay\n      } : {\n        onClick: this.onTogglePlay\n      }, {\n        title: playing ? locale.clickToPauseText : locale.clickToPlayText\n      }), playing ? /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(AnimatePauseIcon, null)) : /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(AnimatePlayIcon, null))), /*#__PURE__*/React.createElement(\"span\", _extends({\n        className: \"group next-audio\",\n        title: locale.nextTrackText\n      }, isMobile ? {\n        onTouchStart: this.audioNextPlay\n      } : {\n        onClick: this.audioNextPlay\n      }), /*#__PURE__*/React.createElement(NextAudioIcon, null))) : undefined, ReloadComponent, DownloadComponent, ThemeSwitchComponent, extendsContent || null, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group play-sounds\",\n        title: locale.volumeText\n      }, soundValue === 0 ? /*#__PURE__*/React.createElement(\"span\", _extends({\n        className: \"sounds-icon\"\n      }, isMobile ? {\n        onTouchStart: this.onSound\n      } : {\n        onClick: this.onSound\n      }), /*#__PURE__*/React.createElement(MdVolumeMuteIcon, null)) : /*#__PURE__*/React.createElement(\"span\", _extends({\n        className: \"sounds-icon\"\n      }, isMobile ? {\n        onTouchStart: this.onMute\n      } : {\n        onClick: this.onMute\n      }), /*#__PURE__*/React.createElement(MdVolumeDownIcon, null)), /*#__PURE__*/React.createElement(Slider, _extends({\n        max: 1,\n        value: soundValue,\n        onChange: this.audioSoundChange,\n        className: \"sound-operation\"\n      }, sliderBaseOptions))), PlayModeComponent, LyricComponent, /*#__PURE__*/React.createElement(\"span\", _extends({\n        className: \"group audio-lists-btn\",\n        title: locale.playListsText\n      }, isMobile ? {\n        onTouchStart: this.openAudioListsPanel\n      } : {\n        onClick: this.openAudioListsPanel\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"audio-lists-icon\"\n      }, /*#__PURE__*/React.createElement(PlayLists, null)), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"audio-lists-num\"\n      }, audioLists.length)), toggleMode && /*#__PURE__*/React.createElement(\"span\", _extends({\n        className: \"group hide-panel\",\n        title: locale.toggleMiniModeText\n      }, isMobile ? {\n        onTouchStart: this.onHidePanel\n      } : {\n        onClick: this.onHidePanel\n      }), /*#__PURE__*/React.createElement(FaMinusSquareOIcon, null)), DestroyComponent))), /*#__PURE__*/React.createElement(AudioListsPanel, {\n        playId: playId,\n        pause: pause,\n        loading: loading ? /*#__PURE__*/React.createElement(Load, null) : undefined,\n        visible: audioListsPanelVisible,\n        audioLists: audioLists,\n        onPlay: this.audioListsPlay,\n        onCancel: this.closeAudioListsPanel,\n        playIcon: /*#__PURE__*/React.createElement(AnimatePlayIcon, null),\n        pauseIcon: /*#__PURE__*/React.createElement(AnimatePauseIcon, null),\n        closeIcon: /*#__PURE__*/React.createElement(CloseIcon, null),\n        isMobile: isMobile,\n        panelToggleAnimate: panelToggleAnimate,\n        glassBg: glassBg,\n        cover: cover,\n        remove: remove,\n        deleteIcon: /*#__PURE__*/React.createElement(DeleteIcon, null),\n        onDelete: this.deleteAudioLists,\n        removeId: removeId,\n        audioListsDragEnd: this.audioListsDragEnd,\n        locale: locale\n      }), !isMobile && /*#__PURE__*/React.createElement(PlayModel, {\n        visible: playModelNameVisible,\n        value: currentPlayModeName\n      }), audioLyricVisible && /*#__PURE__*/React.createElement(Draggable, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('music-player-lyric', lyricClassName)\n      }, currentLyric || emptyLyricText)), /*#__PURE__*/React.createElement(\"audio\", _extends({\n        className: \"music-player-audio\",\n        title: audioTitle\n      }, preloadState, {\n        src: musicSrc,\n        ref: function ref(node) {\n          return _this3.audio = node;\n        }\n      }))), container);\n    }\n  }, {\n    key: \"getBaseAudioInfo\",\n    //返回给使用者的 音乐信息\n    value: function getBaseAudioInfo() {\n      var _this$state13 = this.state,\n          cover = _this$state13.cover,\n          name = _this$state13.name,\n          musicSrc = _this$state13.musicSrc,\n          soundValue = _this$state13.soundValue,\n          lyric = _this$state13.lyric,\n          audioLists = _this$state13.audioLists;\n\n      var _ref14 = this.audio || {},\n          currentTime = _ref14.currentTime,\n          muted = _ref14.muted,\n          networkState = _ref14.networkState,\n          readyState = _ref14.readyState,\n          played = _ref14.played,\n          paused = _ref14.paused,\n          ended = _ref14.ended,\n          startDate = _ref14.startDate;\n\n      var currentPlayIndex = this.getCurrentPlayIndex();\n      var currentAudioListInfo = audioLists[currentPlayIndex] || {};\n      return _objectSpread(_objectSpread({}, currentAudioListInfo), {}, {\n        cover: cover,\n        name: name,\n        musicSrc: musicSrc,\n        volume: soundValue,\n        currentTime: currentTime,\n        duration: this.audioDuration,\n        muted: muted,\n        networkState: networkState,\n        readyState: readyState,\n        played: played,\n        paused: paused,\n        ended: ended,\n        startDate: startDate,\n        lyric: lyric,\n        playIndex: currentPlayIndex\n      });\n    } //播放\n\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    // eslint-disable-next-line camelcase\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      var audioLists = nextProps.audioLists,\n          playIndex = nextProps.playIndex,\n          theme = nextProps.theme,\n          mode = nextProps.mode,\n          playMode = nextProps.playMode,\n          clearPriorAudioLists = nextProps.clearPriorAudioLists;\n\n      if (!arrayEqual(audioLists)(this.props.audioLists)) {\n        if (clearPriorAudioLists) {\n          this.changeAudioLists(nextProps);\n        } else {\n          this.updateAudioLists(audioLists);\n        }\n\n        this.initPlayer(audioLists);\n      }\n\n      this.updatePlayIndex(playIndex);\n      this.updateTheme(theme);\n      this.updateMode(mode);\n      this.updatePlayMode(playMode);\n    } // eslint-disable-next-line camelcase\n\n  }, {\n    key: \"UNSAFE_componentWillMount\",\n    value: function UNSAFE_componentWillMount() {\n      var _this4 = this;\n\n      var _this$props5 = this.props,\n          audioLists = _this$props5.audioLists,\n          remember = _this$props5.remember;\n\n      if (Array.isArray(audioLists) && audioLists.length >= 1) {\n        var playInfo = this.getPlayInfo(audioLists);\n        var lastPlayStatus = remember ? this.getLastPlayStatus() : {};\n\n        switch (_typeof(playInfo.musicSrc)) {\n          case 'function':\n            playInfo.musicSrc().then(function (val) {\n              _this4.setState(_objectSpread(_objectSpread({}, playInfo), {}, {\n                musicSrc: val\n              }, lastPlayStatus));\n            }, this.onAudioError);\n            break;\n\n          default:\n            this.setState(_objectSpread(_objectSpread({}, playInfo), lastPlayStatus));\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.unInstallPlayer();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.addMobileListener();\n      this.initPlayer(this.props.audioLists);\n      this.onGetAudioInstance();\n    }\n  }]);\n\n  return ReactJkMusicPlayer;\n}(PureComponent);\n\n_defineProperty(ReactJkMusicPlayer, \"defaultProps\", {\n  audioLists: [],\n  theme: THEME.DARK,\n  mode: MODE.MINI,\n  defaultPlayMode: PLAY_MODE.order,\n  defaultPosition: {\n    left: 0,\n    top: 0\n  },\n  once: false,\n  //onAudioPlay 事件  是否只触发一次\n  drag: true,\n  toggleMode: true,\n  //能换在迷你 和完整模式下 互相切换\n  showMiniModeCover: true,\n  //迷你模式下 是否显示封面图\n  showDownload: true,\n  showPlay: true,\n  showReload: true,\n  showPlayMode: true,\n  showThemeSwitch: true,\n  showLyric: false,\n  playModeTipVisible: false,\n  //手机端切换播放模式\n  autoPlay: true,\n  defaultVolume: 1,\n  showProgressLoadBar: true,\n  //音频预加载进度\n  seeked: true,\n  playModeShowTime: 600,\n  //播放模式提示 显示时间,\n  bounds: 'body',\n  //mini 模式拖拽的可移动边界\n  showMiniProcessBar: false,\n  //是否在迷你模式 显示进度条\n  loadAudioErrorPlayNext: true,\n  // 加载音频失败时 是否尝试播放下一首\n  preload: false,\n  //是否在页面加载后立即加载音频\n  glassBg: false,\n  //是否是毛玻璃效果\n  remember: false,\n  //是否记住当前播放状态\n  remove: true,\n  //音乐是否可以删除\n  defaultPlayIndex: 0,\n  //默认播放索引\n  getContainer: function getContainer() {\n    return document.body;\n  },\n  // 播放器挂载的节点\n  autoHiddenCover: false,\n  // 当前播放歌曲没有封面时是否自动隐藏\n  onBeforeAudioDownload: function onBeforeAudioDownload() {},\n  // 下载前转换音频地址等\n  spaceBar: false,\n  // 是否可以通过空格键 控制播放暂停\n  showDestroy: false,\n  showMediaSession: false,\n  locale: LOCALE.en_US,\n  responsive: true\n});\n\n_defineProperty(ReactJkMusicPlayer, \"propTypes\", PROP_TYPES);\n\nexport { ReactJkMusicPlayer as default };","map":{"version":3,"sources":["C:/1. Eizeiky/3. React/dumbways react/minggu_4 - Presentasi Final test/client/node_modules/react-jinke-music-player/es/index.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","Symbol","iterator","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","err","Array","isArray","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","o","minLen","_arrayLikeToArray","n","toString","slice","constructor","name","from","test","iter","len","arr2","_typeof","obj","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Date","e","getPrototypeOf","React","PureComponent","createPortal","cls","isMobile","Slider","Switch","download","Draggable","formatTime","createRandomNum","arrayEqual","uuId","isSafari","AudioListsPanel","AudioPlayerMobile","Lyric","FaMinusSquareOIcon","LyricIcon","ReloadIcon","MdVolumeDownIcon","MdVolumeMuteIcon","DownloadIcon","LoopIcon","RepeatIcon","ShufflePlayIcon","OrderPlayIcon","PlayLists","NextAudioIcon","PrevAudioIcon","CloseIcon","DeleteIcon","AnimatePlayIcon","AnimatePauseIcon","CircleProcessBar","Load","PlayModel","sliderBaseOptions","SPACE_BAR_KEYCODE","PROP_TYPES","LOCALE","NETWORK_STATE","AUDIO_LIST_REMOVE_ANIMATE_TIME","PLAY_MODE","THEME","MODE","LOCALE_CONFIG","IS_MOBILE","ReactJkMusicPlayer","_PureComponent","_super","get","locale","en_US","_this$state","state","audioLists","playId","audio","_ref","find","id","duration","Math","max","Number","autoPlay","_this$state2","isInitAutoPlay","isAutoPlayWhenUserClicked","_this","initPlayId","cover","singer","musicSrc","lyric","currentLyric","toggle","mode","FULL","pause","playing","currentTime","isLoop","soundValue","moveX","moveY","loading","audioListsPanelVisible","playModelNameVisible","theme","darkThemeName","playMode","defaultPlayMode","currentAudioVolume","initAnimate","isInitRemember","loadProgress","removeId","isNeedMobileHack","audioLyricVisible","playIndex","defaultPlayIndex","min","onCoverClick","getBaseAudioInfo","_ref2","audioTitle","_this$state3","concat","setState","index","_PLAY_MODE_","findIndex","_PLAY_MODE_LENGTH_","playModeTipVisible","onPlayModeChange","clearTimeout","playModelTimer","setTimeout","playModeShowTime","IconNode","animateName","order","createElement","className","orderLoop","singleLoop","shufflePlay","ignore","currentPlayId","console","warn","play","_pauseAudio","_ref3","_ref3$lyric","loadAudio","load","initLyricParser","updateMediaSessionMetadata","onAudioPlay","onAudioPlayTrackChange","onPlayIndexChange","then","onAudioError","initPlayInfo","audioId","stopPropagation","_this$state4","stop","onAudioListsChange","resetAudioStatus","newAudioLists","handlePlay","_ref4","onAudioListsPanelChange","_closeAudioListsPanel","isLight","LIGHT","DARK","onThemeChange","customDownloader","baseAudioInfo","onBeforeAudioDownload","transformedDownloadAudioInfo","info","src","filename","mimeType","onAudioDownload","isDrag","_ref5","x","y","showDestroy","destroyBtn","contains","onDestroyPlayer","loadAndPlayAudio","openPanel","MINI","setAudioVolume","volume","preventDefault","ele","_ele$getBoundingClien","getBoundingClientRect","left","top","_ref6","onAudioReload","_this$props","toggleMode","spaceBar","onModeChange","player","current","focus","onBeforeDestroy","Promise","resolve","_onDestroyPlayer","unInstallPlayer","isPlayDestroyed","onDestroyed","togglePlay","isAudioCanPlay","onAudioPause","remember","_this$state5","networkState","maxLoadProgress","NETWORK_NO_SOURCE","_this$getLastPlayStat","getLastPlayStatus","isLastPause","reason","error","_this$state6","loadAudioErrorPlayNext","isSingleLoop","currentPlayMode","isLastAudio","isNext","_this$state7","audioListsLen","currentPlayIndex","getCurrentPlayIndex","audioListsPlay","randomIndex","_currentPlayIndex","getPlayIndex","randomPlayId","onAudioEnded","_playMode","audioPrevAndNextBasePlayHandle","saveLastPlayStatus","onAudioProgress","onAudioVolumeChange","seek","getLyricPlayTime","onAudioSeeked","_this$state8","audioInfo","mergedAudioInfo","onAudioAbort","fromIndex","toIndex","_this$state9","_audioLists","item","splice","_playId","onAudioListsDragEnd","_this$state10","lastPlayStatus","JSON","stringify","localStorage","setItem","_this$props2","status","getDefaultPlayId","parse","getItem","document","addEventListener","mockAutoPlayForMobile","once","_this2","bindEvents","eventsNames","waiting","canplay","canPlay","ended","audioEnd","seeked","onPauseAudio","timeupdate","audioTimeUpdate","volumechange","stalled","abort","bind","_events","removeEventListener","getPlayId","_ref7","_ref8","_ref7$name","_ref7$cover","_ref7$singer","_ref7$musicSrc","_ref7$lyric","lastAudioLists","mergedAudioLists","map","_getPlayInfo","cb","getPlayInfo","originMusicSrc","_ref9","matches","media","window","matchMedia","addListener","listenerIsMobile","_this$props3","defaultVolume","_this$getLastPlayStat2","_this$getLastPlayStat3","_formatTime$split","split","_formatTime$split2","m","s","onLyricChange","showLyric","_ref10","lineNum","txt","onAudioLyricChange","values","includes","v","_ref11","autoPlayInitLoadPlayList","getPlayInfoOfNewList","nextProps","loadNewAudioLists","currentPlay","getAudioInstance","navigator","showMediaSession","_this$state11","mediaSession","metadata","MediaMetadata","title","artist","album","artwork","size","sizes","type","updateMediaSessionPositionState","_assertThisInitialize","setPositionState","audioDuration","playbackRate","position","defaultSkipTime","setActionHandler","onTogglePlay","details","skipTime","seekOffset","audioPrevPlay","audioNextPlay","event","fastSeek","seekTime","onKeyDown","keyCode","setDefaultAudioVolume","bindUnhandledRejection","onAddMediaSession","bindMobileAutoPlayEvents","bindKeyDownEvents","bindSafariAutoPlayEvents","unBindEvents","unBindUnhandledRejection","unBindKeyDownEvents","removeListener","_onDestroyed","targetId","createRef","render","_this3","_this$props4","drag","style","showDownload","showPlay","showReload","showPlayMode","showThemeSwitch","showMiniModeCover","extendsContent","showProgressLoadBar","bounds","defaultPosition","showMiniProcessBar","preload","glassBg","remove","lyricClassName","emptyLyricText","getContainer","autoHiddenCover","responsive","_this$state12","preloadState","panelToggleAnimate","show","hide","currentPlayModeName","playModeText","isShowMiniModeCover","backgroundImage","formattedCurrentTime","formattedAudioDuration","progressHandler","onChange","onHandleProgress","onAfterChange","ProgressBar","ceil","defaultValue","DownloadComponent","downloadText","ThemeSwitchComponent","themeChange","checkedChildren","lightThemeText","unCheckedChildren","darkThemeText","checked","switchThemeText","ReloadComponent","onTouchStart","onClick","reloadText","LyricComponent","toggleAudioLyric","toggleLyricText","PlayModeComponent","togglePlayMode","renderPlayModeIcon","miniProcessBarR","DestroyComponent","destroyText","ref","node","AudioController","tabIndex","progress","r","Fragment","controllerTitle","closeText","openText","container","body","getAudioTitle","themeSwitch","progressBar","onPlay","playListsIcon","reloadIcon","downloadIcon","nextAudioIcon","prevAudioIcon","playIcon","pauseIcon","closeIcon","loadingIcon","openAudioListsPanel","onClose","onHidePanel","onDrag","onControllerDrag","onStop","onControllerDragStop","onStart","onControllerDragStart","width","previousTrackText","playBtn","clickToPauseText","clickToPlayText","nextTrackText","volumeText","onSound","onMute","audioSoundChange","playListsText","toggleMiniModeText","visible","onCancel","closeAudioListsPanel","deleteIcon","onDelete","deleteAudioLists","audioListsDragEnd","_this$state13","_ref14","muted","readyState","played","paused","startDate","currentAudioListInfo","UNSAFE_componentWillReceiveProps","clearPriorAudioLists","changeAudioLists","updateAudioLists","initPlayer","updatePlayIndex","updateTheme","updateMode","updatePlayMode","UNSAFE_componentWillMount","_this4","_this$props5","playInfo","val","componentWillUnmount","componentDidMount","addMobileListener","onGetAudioInstance","default"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * @version 4.15.1\n * @name react-jinke-music-player\n * @description Maybe the best beautiful HTML5 responsive player component for react :)\n * @author Jinke.Li <1359518268@qq.com>\n * TODO: 如果有空的话 (估计没有),发布 5.0,\n    1. 使用 typescript + react hooks 重构 :)\n    4. 精简api\n    6. 使用 antd icon\n    8. 移除歌词功能\n */\n// FIXME: 歌词不能暂停\nimport React, { PureComponent } from 'react';\nimport { createPortal } from 'react-dom';\nimport cls from 'classnames';\nimport isMobile from 'is-mobile';\nimport Slider from 'rc-slider/lib/Slider';\nimport Switch from 'rc-switch';\nimport download from 'downloadjs';\nimport Draggable from 'react-draggable';\nimport { formatTime, createRandomNum, arrayEqual, uuId, isSafari } from './utils';\nimport AudioListsPanel from './components/AudioListsPanel';\nimport AudioPlayerMobile from './components/PlayerMobile';\nimport Lyric from './lyric';\nimport { FaMinusSquareOIcon, LyricIcon, ReloadIcon, MdVolumeDownIcon, MdVolumeMuteIcon, DownloadIcon, LoopIcon, RepeatIcon, ShufflePlayIcon, OrderPlayIcon, PlayLists, NextAudioIcon, PrevAudioIcon, CloseIcon, DeleteIcon, AnimatePlayIcon, AnimatePauseIcon } from './components/Icon';\nimport CircleProcessBar from './components/CircleProcessBar';\nimport Load from './components/Load';\nimport PlayModel from './components/PlayModel';\nimport { sliderBaseOptions } from './config/slider';\nimport { SPACE_BAR_KEYCODE } from './config/keycode';\nimport PROP_TYPES from './config/propTypes';\nimport LOCALE from './config/locale';\nimport NETWORK_STATE from './config/networkState';\nimport { AUDIO_LIST_REMOVE_ANIMATE_TIME } from './config/animate';\nimport PLAY_MODE from './config/playMode';\nimport { THEME } from './config/theme';\nimport { MODE } from './config/mode';\nimport LOCALE_CONFIG from './locale';\nimport 'rc-slider/assets/index.css';\nimport 'rc-switch/assets/index.css';\nvar IS_MOBILE = isMobile();\n\nvar ReactJkMusicPlayer = /*#__PURE__*/function (_PureComponent) {\n  _inherits(ReactJkMusicPlayer, _PureComponent);\n\n  var _super = _createSuper(ReactJkMusicPlayer);\n\n  _createClass(ReactJkMusicPlayer, [{\n    key: \"locale\",\n    //初始播放id\n    get: function get() {\n      var locale = this.props.locale;\n\n      if (typeof locale === 'string') {\n        return LOCALE_CONFIG[this.props.locale];\n      }\n\n      return locale ? _objectSpread(_objectSpread({}, LOCALE_CONFIG[LOCALE.en_US]), locale) : {};\n    }\n  }, {\n    key: \"audioDuration\",\n    get: function get() {\n      var _this$state = this.state,\n          audioLists = _this$state.audioLists,\n          playId = _this$state.playId;\n\n      if (!audioLists.length || !this.audio) {\n        return 0;\n      }\n\n      var _ref = audioLists.find(function (audio) {\n        return audio.id === playId;\n      }) || {},\n          duration = _ref.duration;\n\n      return Math.max(Number(duration) || this.audio.duration || 0, 0);\n    }\n  }, {\n    key: \"isAudioCanPlay\",\n    get: function get() {\n      var autoPlay = this.props.autoPlay;\n      var _this$state2 = this.state,\n          isInitAutoPlay = _this$state2.isInitAutoPlay,\n          isAutoPlayWhenUserClicked = _this$state2.isAutoPlayWhenUserClicked;\n      return isInitAutoPlay || autoPlay || isAutoPlayWhenUserClicked;\n    }\n  }]);\n\n  function ReactJkMusicPlayer(props) {\n    var _this;\n\n    _classCallCheck(this, ReactJkMusicPlayer);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"isDrag\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"initPlayId\", '');\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      audioLists: [],\n      playId: _this.initPlayId,\n      //播放id\n      name: '',\n      //当前歌曲名\n      cover: '',\n      //当前歌曲封面\n      singer: '',\n      //当前歌手\n      musicSrc: '',\n      //当前歌曲链\n      lyric: '',\n      // 当前歌词\n      currentLyric: '',\n      isMobile: IS_MOBILE,\n      toggle: _this.props.mode === MODE.FULL,\n      pause: true,\n      playing: false,\n      currentTime: 0,\n      isLoop: false,\n      soundValue: 100,\n      moveX: 0,\n      moveY: 0,\n      loading: false,\n      audioListsPanelVisible: false,\n      playModelNameVisible: false,\n      theme: _this.props.theme || _this.darkThemeName,\n      playMode: _this.props.playMode || _this.props.defaultPlayMode || '',\n      //当前播放模式\n      currentAudioVolume: 0,\n      //当前音量  静音后恢复到之前记录的音量\n      initAnimate: false,\n      isInitAutoPlay: _this.props.autoPlay,\n      isInitRemember: false,\n      loadProgress: 0,\n      removeId: -1,\n      isNeedMobileHack: IS_MOBILE,\n      audioLyricVisible: false,\n      isAutoPlayWhenUserClicked: false,\n      playIndex: _this.props.playIndex || _this.props.defaultPlayIndex || 0\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPlayIndex\", function () {\n      var playIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.state.playIndex;\n      var audioLists = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.state.audioLists;\n      return Math.max(0, Math.min(audioLists.length - 1, playIndex));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onCoverClick\", function () {\n      var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : MODE.FULL;\n\n      if (_this.props.onCoverClick) {\n        _this.props.onCoverClick(mode, _this.state.audioLists, _this.getBaseAudioInfo());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getAudioTitle\", function () {\n      // 暂时兼容\n      var _ref2 = _this.locale || {},\n          audioTitle = _ref2.audioTitle;\n\n      var _this$state3 = _this.state,\n          name = _this$state3.name,\n          singer = _this$state3.singer;\n\n      if (typeof audioTitle === 'function' && _this.audio) {\n        return audioTitle(_this.getBaseAudioInfo());\n      }\n\n      return audioTitle || \"\".concat(name, \" \").concat(singer ? \"- \".concat(singer) : '');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleAudioLyric\", function () {\n      _this.setState({\n        audioLyricVisible: !_this.state.audioLyricVisible\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"togglePlayMode\", function () {\n      var index = _this._PLAY_MODE_.findIndex(function (mode) {\n        return mode === _this.state.playMode;\n      });\n\n      var playMode = index === _this._PLAY_MODE_LENGTH_ - 1 ? _this._PLAY_MODE_[0] : _this._PLAY_MODE_[++index];\n\n      _this.setState({\n        playMode: playMode,\n        playModelNameVisible: true,\n        playModeTipVisible: true\n      });\n\n      _this.props.onPlayModeChange && _this.props.onPlayModeChange(playMode);\n      clearTimeout(_this.playModelTimer);\n      _this.playModelTimer = setTimeout(function () {\n        _this.setState({\n          playModelNameVisible: false,\n          playModeTipVisible: false\n        });\n      }, _this.props.playModeShowTime);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderPlayModeIcon\", function (playMode) {\n      var IconNode = '';\n      var animateName = 'react-jinke-music-player-mode-icon';\n\n      switch (playMode) {\n        case PLAY_MODE.order:\n          IconNode = /*#__PURE__*/React.createElement(OrderPlayIcon, {\n            className: animateName\n          });\n          break;\n\n        case PLAY_MODE.orderLoop:\n          IconNode = /*#__PURE__*/React.createElement(RepeatIcon, {\n            className: animateName\n          });\n          break;\n\n        case PLAY_MODE.singleLoop:\n          IconNode = /*#__PURE__*/React.createElement(LoopIcon, {\n            className: animateName\n          });\n          break;\n\n        case PLAY_MODE.shufflePlay:\n          IconNode = /*#__PURE__*/React.createElement(ShufflePlayIcon, {\n            className: animateName\n          });\n          break;\n\n        default:\n          IconNode = /*#__PURE__*/React.createElement(OrderPlayIcon, {\n            className: animateName\n          });\n      }\n\n      return IconNode;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioListsPlay\", function (playId) {\n      var ignore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var state = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this.state;\n      var currentPlayId = state.playId,\n          pause = state.pause,\n          playing = state.playing,\n          audioLists = state.audioLists;\n\n      if (Array.isArray(audioLists) && audioLists.length === 0) {\n        return console.warn('Warning: Your playlist has no songs. and cannot play !');\n      } //如果点击当前项 就暂停 或者播放\n\n\n      if (playId === currentPlayId && !ignore) {\n        _this.setState({\n          pause: !pause,\n          playing: !playing\n        });\n\n        return pause ? _this.audio.play() : _this._pauseAudio();\n      }\n\n      var playIndex = audioLists.findIndex(function (audio) {\n        return audio.id === playId;\n      });\n\n      var _ref3 = audioLists[playIndex] || {},\n          name = _ref3.name,\n          cover = _ref3.cover,\n          musicSrc = _ref3.musicSrc,\n          singer = _ref3.singer,\n          _ref3$lyric = _ref3.lyric,\n          lyric = _ref3$lyric === void 0 ? '' : _ref3$lyric;\n\n      var loadAudio = function loadAudio(musicSrc) {\n        _this.setState({\n          name: name,\n          cover: cover,\n          musicSrc: musicSrc,\n          singer: singer,\n          playId: playId,\n          lyric: lyric,\n          currentTime: 0,\n          playing: false,\n          loading: true,\n          loadProgress: 0,\n          playIndex: playIndex,\n          isAutoPlayWhenUserClicked: true\n        }, function () {\n          _this.audio.load();\n\n          _this.initLyricParser();\n\n          _this.updateMediaSessionMetadata();\n        });\n\n        _this.props.onAudioPlay && _this.props.onAudioPlay(_this.getBaseAudioInfo());\n        _this.props.onAudioPlayTrackChange && _this.props.onAudioPlayTrackChange(playId, audioLists, _this.getBaseAudioInfo());\n        _this.props.onPlayIndexChange && _this.props.onPlayIndexChange(playIndex);\n      };\n\n      switch (_typeof(musicSrc)) {\n        case 'function':\n          musicSrc().then(loadAudio, _this.onAudioError);\n          break;\n\n        default:\n          loadAudio(musicSrc);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetAudioStatus\", function () {\n      _this.audio.pause();\n\n      _this.initPlayInfo([]);\n\n      _this.setState({\n        currentTime: 0,\n        loading: false,\n        playing: false,\n        pause: true,\n        currentLyric: '',\n        playId: _this.initPlayId\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"deleteAudioLists\", function (audioId) {\n      return function (e) {\n        e.stopPropagation(); //如果不 传 id  删除全部\n\n        var _this$state4 = _this.state,\n            audioLists = _this$state4.audioLists,\n            playId = _this$state4.playId;\n\n        if (audioLists.length < 1) {\n          return;\n        }\n\n        _this.lyric && _this.lyric.stop();\n\n        if (!audioId) {\n          _this.props.onAudioListsChange && _this.props.onAudioListsChange('', [], {});\n          return _this.resetAudioStatus();\n        }\n\n        var newAudioLists = _toConsumableArray(audioLists).filter(function (audio) {\n          return audio.id !== audioId;\n        }); //触发删除动画,等动画结束 删除列表\n\n\n        _this.setState({\n          removeId: audioId\n        });\n\n        setTimeout(function () {\n          _this.setState({\n            audioLists: newAudioLists,\n            removeId: -1\n          }, function () {\n            if (!newAudioLists.length) {\n              return _this.resetAudioStatus();\n            } // 如果删除的是当前正在播放的 顺延下一首播放\n\n\n            if (audioId === playId) {\n              _this.handlePlay(PLAY_MODE.orderLoop);\n            }\n          });\n        }, AUDIO_LIST_REMOVE_ANIMATE_TIME);\n        _this.props.onAudioListsChange && _this.props.onAudioListsChange(playId, newAudioLists, _this.getBaseAudioInfo());\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"openAudioListsPanel\", function () {\n      _this.setState(function (_ref4) {\n        var audioListsPanelVisible = _ref4.audioListsPanelVisible;\n        return {\n          initAnimate: true,\n          audioListsPanelVisible: !audioListsPanelVisible\n        };\n      });\n\n      _this.props.onAudioListsPanelChange && _this.props.onAudioListsPanelChange(!_this.state.audioListsPanelVisible);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"closeAudioListsPanel\", function (e) {\n      e.stopPropagation();\n\n      _this._closeAudioListsPanel();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_closeAudioListsPanel\", function () {\n      _this.setState({\n        audioListsPanelVisible: false\n      });\n\n      _this.props.onAudioListsPanelChange && _this.props.onAudioListsPanelChange(false);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"themeChange\", function (isLight) {\n      var theme = isLight ? THEME.LIGHT : THEME.DARK;\n\n      _this.setState({\n        theme: theme\n      });\n\n      _this.props.onThemeChange && _this.props.onThemeChange(theme);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioDownload\", function () {\n      var musicSrc = _this.state.musicSrc;\n\n      if (_this.state.musicSrc) {\n        var customDownloader = _this.props.customDownloader;\n\n        var baseAudioInfo = _this.getBaseAudioInfo();\n\n        var onBeforeAudioDownload = _this.props.onBeforeAudioDownload(baseAudioInfo);\n\n        var transformedDownloadAudioInfo = {};\n\n        if (onBeforeAudioDownload && onBeforeAudioDownload.then) {\n          onBeforeAudioDownload.then(function (info) {\n            var src = info.src,\n                filename = info.filename,\n                mimeType = info.mimeType;\n            transformedDownloadAudioInfo = info;\n\n            if (customDownloader) {\n              customDownloader(info);\n            } else {\n              download(src, filename, mimeType);\n            }\n          });\n        } else {\n          customDownloader ? customDownloader({\n            src: musicSrc\n          }) : download(musicSrc);\n        }\n\n        _this.props.onAudioDownload && _this.props.onAudioDownload(baseAudioInfo, transformedDownloadAudioInfo);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onControllerDrag\", function () {\n      _this.isDrag = true;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onControllerDragStart\", function () {\n      _this.isDrag = false;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onControllerDragStop\", function (e, _ref5) {\n      var x = _ref5.x,\n          y = _ref5.y;\n\n      if (_this.props.showDestroy && _this.destroyBtn && _this.destroyBtn.contains(e.target)) {\n        _this.onDestroyPlayer();\n\n        return;\n      }\n\n      if (!_this.isDrag) {\n        if (_this.state.isNeedMobileHack) {\n          _this.loadAndPlayAudio();\n\n          _this.setState({\n            isNeedMobileHack: false\n          });\n        }\n\n        _this.openPanel();\n\n        _this.onCoverClick(MODE.MINI);\n      }\n\n      _this.setState({\n        moveX: x,\n        moveY: y\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onHandleProgress\", function (value) {\n      _this.audio.currentTime = value;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSound\", function () {\n      _this.setAudioVolume(_this.state.currentAudioVolume);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setAudioVolume\", function (value) {\n      _this.audio.volume = value;\n\n      _this.setState({\n        currentAudioVolume: value,\n        soundValue: value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"stopAll\", function (target) {\n      target.stopPropagation();\n      target.preventDefault();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getBoundingClientRect\", function (ele) {\n      var _ele$getBoundingClien = ele.getBoundingClientRect(),\n          left = _ele$getBoundingClien.left,\n          top = _ele$getBoundingClien.top;\n\n      return {\n        left: left,\n        top: top\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioLoop\", function () {\n      _this.setState(function (_ref6) {\n        var isLoop = _ref6.isLoop;\n        return {\n          isLoop: !isLoop\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioReload\", function () {\n      if (_this.props.audioLists.length) {\n        _this.handlePlay(PLAY_MODE.singleLoop);\n\n        _this.props.onAudioReload && _this.props.onAudioReload(_this.getBaseAudioInfo());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"openPanel\", function () {\n      var _this$props = _this.props,\n          toggleMode = _this$props.toggleMode,\n          spaceBar = _this$props.spaceBar;\n\n      if (toggleMode) {\n        _this.setState({\n          toggle: true\n        });\n\n        _this.props.onModeChange && _this.props.onModeChange(MODE.FULL);\n\n        if (spaceBar && _this.player.current) {\n          _this.player.current.focus();\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onHidePanel\", function () {\n      _this.setState({\n        toggle: false,\n        audioListsPanelVisible: false\n      });\n\n      _this.props.onModeChange && _this.props.onModeChange(MODE.MINI);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDestroyPlayer\", function () {\n      if (_this.props.onBeforeDestroy) {\n        var onBeforeDestroy = Promise.resolve(_this.props.onBeforeDestroy(_this.state.playId, _this.state.audioLists, _this.getBaseAudioInfo()));\n\n        if (onBeforeDestroy && onBeforeDestroy.then) {\n          onBeforeDestroy.then(function () {\n            _this._onDestroyPlayer();\n          }) // ignore unhandledrejection handler\n          [\"catch\"](function () {});\n        }\n\n        return;\n      }\n\n      _this._onDestroyPlayer();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDestroyPlayer\", function () {\n      _this.unInstallPlayer();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDestroyed\", function () {\n      _this.setState({\n        isPlayDestroyed: true\n      });\n\n      if (_this.props.onDestroyed) {\n        _this.props.onDestroyed(_this.state.playId, _this.state.audioLists, _this.getBaseAudioInfo());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getCurrentPlayIndex\", function () {\n      return _this.state.audioLists.findIndex(function (audio) {\n        return audio.id === _this.state.playId;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTogglePlay\", function () {\n      if (_this.state.audioLists.length >= 1) {\n        _this.lyric.togglePlay();\n\n        if (_this.state.playing) {\n          return _this._pauseAudio();\n        }\n\n        _this.setState( // lgtm [js/react/inconsistent-state-update]\n        {\n          isAutoPlayWhenUserClicked: true\n        }, _this.loadAndPlayAudio);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"canPlay\", function () {\n      _this.setState({\n        loading: false,\n        playing: false\n      });\n\n      if (_this.isAudioCanPlay) {\n        _this.loadAndPlayAudio();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_pauseAudio\", function () {\n      _this.audio.pause();\n\n      _this.setState({\n        playing: false,\n        pause: true\n      }, function () {\n        _this.lyric && _this.lyric.stop();\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPauseAudio\", function () {\n      _this._pauseAudio();\n\n      _this.lyric && _this.lyric.stop();\n      _this.props.onAudioPause && _this.props.onAudioPause(_this.getBaseAudioInfo());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loadAndPlayAudio\", function () {\n      var remember = _this.props.remember;\n      var _this$state5 = _this.state,\n          isInitRemember = _this$state5.isInitRemember,\n          loadProgress = _this$state5.loadProgress;\n      var networkState = _this.audio.networkState;\n      var maxLoadProgress = 100;\n\n      _this.setState({\n        loading: true\n      });\n\n      if (loadProgress < maxLoadProgress) {\n        _this.setState({\n          loadProgress: loadProgress + 1\n        });\n      }\n\n      if (networkState !== NETWORK_STATE.NETWORK_NO_SOURCE) {\n        var _this$getLastPlayStat = _this.getLastPlayStatus(),\n            pause = _this$getLastPlayStat.pause;\n\n        var isLastPause = remember && !isInitRemember && pause;\n\n        _this.setState({\n          playing: remember ? !isLastPause : _this.isAudioCanPlay,\n          loading: false,\n          pause: remember ? isLastPause : !_this.isAudioCanPlay,\n          loadProgress: maxLoadProgress\n        }, function () {\n          if (remember ? !isLastPause : _this.isAudioCanPlay) {\n            // fuck Safari is need muted :(\n            // this.audio.muted = true\n            _this.audio.play();\n          }\n\n          _this.setState({\n            isInitAutoPlay: true,\n            isInitRemember: true,\n            isAutoPlayWhenUserClicked: false\n          });\n        });\n      } else {\n        _this.onAudioError({\n          reason: '[loadAndPlayAudio]: Failed to load because no supported source was found.'\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioError\", function (error) {\n      var _this$state6 = _this.state,\n          playMode = _this$state6.playMode,\n          audioLists = _this$state6.audioLists,\n          playId = _this$state6.playId,\n          musicSrc = _this$state6.musicSrc;\n      var loadAudioErrorPlayNext = _this.props.loadAudioErrorPlayNext;\n      var isSingleLoop = playMode === PLAY_MODE.singleLoop;\n      var currentPlayMode = isSingleLoop ? PLAY_MODE.order : playMode;\n\n      _this.lyric.stop(); //如果当前音乐加载出错 尝试播放下一首\n\n\n      if (loadAudioErrorPlayNext && audioLists.length) {\n        var isLastAudio = (playMode === PLAY_MODE.order || playMode === PLAY_MODE.orderLoop) && playId === audioLists[audioLists.length - 1].id;\n\n        if (!isLastAudio) {\n          _this.handlePlay(currentPlayMode, true);\n        }\n      } // 如果删除歌曲或其他原因导致列表为空时\n      // 这时候会触发 https://developer.mozilla.org/en-US/docs/Web/API/MediaError\n\n\n      if (musicSrc) {\n        _this.props.onAudioError && _this.props.onAudioError(_this.audio.error || error && error.reason || null, playId, audioLists, _this.getBaseAudioInfo());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handlePlay\", function (playMode) {\n      var isNext = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var _this$state7 = _this.state,\n          playId = _this$state7.playId,\n          audioLists = _this$state7.audioLists;\n      var audioListsLen = audioLists.length;\n\n      if (!audioListsLen) {\n        return;\n      }\n\n      var currentPlayIndex = _this.getCurrentPlayIndex();\n\n      switch (playMode) {\n        //顺序播放\n        case PLAY_MODE.order:\n          // 拖拽排序后 或者 正常播放 到最后一首歌 就暂停\n          if (currentPlayIndex === audioListsLen - 1) return _this._pauseAudio();\n\n          _this.audioListsPlay(isNext ? audioLists[currentPlayIndex + 1].id : audioLists[currentPlayIndex - 1].id);\n\n          break;\n        //列表循环\n\n        case PLAY_MODE.orderLoop:\n          if (isNext) {\n            if (currentPlayIndex === audioListsLen - 1) {\n              return _this.audioListsPlay(audioLists[0].id);\n            }\n\n            _this.audioListsPlay(audioLists[currentPlayIndex + 1].id);\n          } else {\n            if (currentPlayIndex === 0) {\n              return _this.audioListsPlay(audioLists[audioListsLen - 1].id);\n            }\n\n            _this.audioListsPlay(audioLists[currentPlayIndex - 1].id);\n          }\n\n          break;\n        //单曲循环\n\n        case PLAY_MODE.singleLoop:\n          _this.audio.currentTime = 0;\n\n          _this.audioListsPlay(playId, true);\n\n          break;\n        //随机播放\n\n        case PLAY_MODE.shufflePlay:\n          {\n            var randomIndex = createRandomNum(0, audioListsLen - 1);\n\n            var _currentPlayIndex = _this.getCurrentPlayIndex();\n\n            if (randomIndex === _currentPlayIndex) {\n              randomIndex = _this.getPlayIndex(randomIndex + 1);\n            }\n\n            var randomPlayId = (audioLists[randomIndex] || {}).id;\n\n            _this.audioListsPlay(randomPlayId, true);\n          }\n          break;\n\n        default:\n          break;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioEnd\", function () {\n      _this.props.onAudioEnded && _this.props.onAudioEnded(_this.state.playId, _this.state.audioLists, _this.getBaseAudioInfo());\n\n      _this.handlePlay(_this.state.playMode);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioPrevAndNextBasePlayHandle\", function () {\n      var isNext = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var playMode = _this.state.playMode;\n      var _playMode = '';\n\n      switch (playMode) {\n        case PLAY_MODE.shufflePlay:\n          _playMode = playMode;\n          break;\n\n        default:\n          _playMode = PLAY_MODE.orderLoop;\n          break;\n      }\n\n      _this.handlePlay(_playMode, isNext);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioPrevPlay\", function () {\n      _this.audioPrevAndNextBasePlayHandle(false);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioNextPlay\", function () {\n      _this.audioPrevAndNextBasePlayHandle(true);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioTimeUpdate\", function () {\n      var currentTime = _this.audio.currentTime;\n\n      _this.setState({\n        currentTime: currentTime\n      });\n\n      if (_this.props.remember) {\n        _this.saveLastPlayStatus();\n      }\n\n      _this.props.onAudioProgress && _this.props.onAudioProgress(_this.getBaseAudioInfo());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioSoundChange\", function (value) {\n      _this.setAudioVolume(value);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioVolumeChange\", function () {\n      var volume = _this.audio.volume;\n\n      _this.setState({\n        soundValue: volume\n      });\n\n      _this.props.onAudioVolumeChange && _this.props.onAudioVolumeChange(volume);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioPlay\", function () {\n      _this.setState({\n        playing: true,\n        loading: false\n      }, _this.initLyricParser);\n\n      _this.props.onAudioPlay && _this.props.onAudioPlay(_this.getBaseAudioInfo());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioSeeked\", function () {\n      if (_this.state.audioLists.length >= 1) {\n        if (_this.state.playing) {\n          _this.setState({\n            playing: true\n          }, function () {\n            _this.loadAndPlayAudio();\n\n            _this.lyric.seek(_this.getLyricPlayTime());\n          });\n        }\n\n        _this.props.onAudioSeeked && _this.props.onAudioSeeked(_this.getBaseAudioInfo());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMute\", function () {\n      _this.setState({\n        soundValue: 0,\n        currentAudioVolume: _this.audio.volume\n      }, function () {\n        _this.audio.volume = 0;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioAbort\", function (e) {\n      var _this$state8 = _this.state,\n          audioLists = _this$state8.audioLists,\n          playId = _this$state8.playId;\n\n      var audioInfo = _this.getBaseAudioInfo();\n\n      var mergedAudioInfo = Object.assign({}, e, audioInfo);\n      _this.props.onAudioAbort && _this.props.onAudioAbort(playId, audioLists, mergedAudioInfo);\n\n      if (audioLists.length) {\n        _this.audio.pause();\n\n        _this.state.isInitAutoPlay && _this.audio.play();\n\n        _this.lyric.stop();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleMode\", function (mode) {\n      if (mode === MODE.FULL) {\n        _this.setState({\n          toggle: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleTheme\", function (theme) {\n      _this.setState({\n        theme: theme\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioListsDragEnd\", function (fromIndex, toIndex) {\n      var _this$state9 = _this.state,\n          playId = _this$state9.playId,\n          audioLists = _this$state9.audioLists;\n\n      var _audioLists = _toConsumableArray(audioLists);\n\n      var item = _audioLists.splice(fromIndex, 1)[0];\n\n      _audioLists.splice(toIndex, 0, item); //如果拖动正在播放的歌曲 播放Id 等于 拖动后的index\n\n\n      var _playId = fromIndex === playId ? toIndex : playId;\n\n      _this.setState({\n        audioLists: _audioLists,\n        playId: _playId\n      });\n\n      _this.props.onAudioListsDragEnd && _this.props.onAudioListsDragEnd(fromIndex, toIndex);\n      _this.props.onAudioListsChange && _this.props.onAudioListsChange(_playId, _audioLists, _this.getBaseAudioInfo());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"saveLastPlayStatus\", function () {\n      var _this$state10 = _this.state,\n          currentTime = _this$state10.currentTime,\n          playId = _this$state10.playId,\n          theme = _this$state10.theme,\n          soundValue = _this$state10.soundValue,\n          playMode = _this$state10.playMode,\n          name = _this$state10.name,\n          cover = _this$state10.cover,\n          singer = _this$state10.singer,\n          musicSrc = _this$state10.musicSrc,\n          pause = _this$state10.pause;\n      var lastPlayStatus = JSON.stringify({\n        currentTime: currentTime,\n        playId: playId,\n        theme: theme,\n        playMode: playMode,\n        soundValue: soundValue,\n        name: name,\n        cover: cover,\n        singer: singer,\n        musicSrc: musicSrc,\n        pause: pause\n      });\n      localStorage.setItem('lastPlayStatus', lastPlayStatus);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getLastPlayStatus\", function () {\n      var _this$props2 = _this.props,\n          theme = _this$props2.theme,\n          defaultPlayMode = _this$props2.defaultPlayMode,\n          playMode = _this$props2.playMode,\n          defaultPlayIndex = _this$props2.defaultPlayIndex,\n          playIndex = _this$props2.playIndex;\n      var status = {\n        currentTime: 0,\n        playMode: playMode || defaultPlayMode || PLAY_MODE.order,\n        name: '',\n        cover: '',\n        singer: '',\n        musicSrc: '',\n        lyric: '',\n        playId: _this.getDefaultPlayId(),\n        theme: theme,\n        pause: false,\n        playIndex: playIndex || defaultPlayIndex || 0\n      };\n\n      try {\n        return JSON.parse(localStorage.getItem('lastPlayStatus')) || status;\n      } catch (error) {\n        return status;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mockAutoPlayForMobile\", function () {\n      if (_this.props.autoPlay && !_this.state.playing && _this.state.pause) {\n        _this.audio.load();\n\n        _this.audio.pause();\n\n        _this.audio.play();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindMobileAutoPlayEvents\", function () {\n      document.addEventListener('touchstart', function () {\n        _this.mockAutoPlayForMobile();\n      }, {\n        once: true\n      }); //监听微信准备就绪事件\n\n      document.addEventListener('WeixinJSBridgeReady', function () {\n        _this.mockAutoPlayForMobile();\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindSafariAutoPlayEvents\", function () {\n      document.addEventListener('click', function () {\n        _this.mockAutoPlayForMobile();\n      }, {\n        once: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unBindEvents\", function () {\n      var _this2;\n\n      (_this2 = _this).bindEvents.apply(_this2, arguments);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindEvents\", function () {\n      var target = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.audio;\n      var eventsNames = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        waiting: _this.loadAndPlayAudio,\n        canplay: _this.canPlay,\n        error: _this.onAudioError,\n        ended: _this.audioEnd,\n        seeked: _this.onAudioSeeked,\n        pause: _this.onPauseAudio,\n        play: _this.onAudioPlay,\n        timeupdate: _this.audioTimeUpdate,\n        volumechange: _this.onAudioVolumeChange,\n        stalled: _this.onAudioError,\n        //当浏览器尝试获取媒体数据，但数据不可用时\n        abort: _this.onAudioAbort\n      };\n      var bind = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var once = _this.props.once;\n\n      for (var name in eventsNames) {\n        var _events = eventsNames[name];\n\n        if (target) {\n          bind ? target.addEventListener(name, _events, {\n            once: !!(once && name === 'play')\n          }) : target.removeEventListener(name, _events);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPlayId\", function () {\n      var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.state.audioLists;\n\n      var playIndex = _this.getPlayIndex(undefined, audioLists);\n\n      var playId = _this.state.playId || audioLists[playIndex] && audioLists[playIndex].id;\n      return playId;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_getPlayInfo\", function () {\n      var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      var playId = _this.getPlayId(audioLists);\n\n      var _ref7 = audioLists.find(function (_ref8) {\n        var id = _ref8.id;\n        return id === playId;\n      }) || {},\n          _ref7$name = _ref7.name,\n          name = _ref7$name === void 0 ? '' : _ref7$name,\n          _ref7$cover = _ref7.cover,\n          cover = _ref7$cover === void 0 ? '' : _ref7$cover,\n          _ref7$singer = _ref7.singer,\n          singer = _ref7$singer === void 0 ? '' : _ref7$singer,\n          _ref7$musicSrc = _ref7.musicSrc,\n          musicSrc = _ref7$musicSrc === void 0 ? '' : _ref7$musicSrc,\n          _ref7$lyric = _ref7.lyric,\n          lyric = _ref7$lyric === void 0 ? '' : _ref7$lyric;\n\n      return {\n        name: name,\n        cover: cover,\n        singer: singer,\n        musicSrc: musicSrc,\n        lyric: lyric,\n        audioLists: audioLists,\n        playId: playId\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPlayInfo\", function () {\n      var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var newAudioLists = audioLists.filter(function (audio) {\n        return !audio['id'];\n      });\n      var lastAudioLists = audioLists.filter(function (audio) {\n        return audio['id'];\n      });\n      var mergedAudioLists = [].concat(_toConsumableArray(lastAudioLists), _toConsumableArray(newAudioLists.map(function (info) {\n        return _objectSpread(_objectSpread({}, info), {}, {\n          id: uuId()\n        });\n      })));\n      return _this._getPlayInfo(mergedAudioLists);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPlayInfoOfNewList\", function () {\n      var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      var _audioLists = audioLists.map(function (info) {\n        return _objectSpread(_objectSpread({}, info), {}, {\n          id: uuId()\n        });\n      });\n\n      return _this._getPlayInfo(_audioLists);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"initPlayInfo\", function (audioLists, cb) {\n      var info = _this.getPlayInfo(audioLists);\n\n      switch (_typeof(info.musicSrc)) {\n        case 'function':\n          info.musicSrc().then(function (originMusicSrc) {\n            _this.setState(_objectSpread(_objectSpread({}, info), {}, {\n              musicSrc: originMusicSrc\n            }), cb);\n          }, _this.onAudioError);\n          break;\n\n        default:\n          _this.setState(info, cb);\n\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"listenerIsMobile\", function (_ref9) {\n      var matches = _ref9.matches;\n\n      _this.setState({\n        isMobile: !!matches\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addMobileListener\", function () {\n      _this.media = window.matchMedia('(max-width: 768px) and (orientation : portrait)');\n\n      _this.media.addListener(_this.listenerIsMobile);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setDefaultAudioVolume\", function () {\n      var _this$props3 = _this.props,\n          defaultVolume = _this$props3.defaultVolume,\n          remember = _this$props3.remember; //音量 [0-1]\n\n      _this.defaultVolume = Math.max(0, Math.min(defaultVolume, 1));\n\n      var _this$getLastPlayStat2 = _this.getLastPlayStatus(),\n          _this$getLastPlayStat3 = _this$getLastPlayStat2.soundValue,\n          soundValue = _this$getLastPlayStat3 === void 0 ? _this.defaultVolume : _this$getLastPlayStat3;\n\n      _this.setAudioVolume(remember ? soundValue : _this.defaultVolume);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getDefaultPlayId\", function () {\n      var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props.audioLists;\n\n      var playIndex = _this.getPlayIndex();\n\n      return audioLists[playIndex] && audioLists[playIndex].id;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getLyricPlayTime\", function () {\n      var _formatTime$split = formatTime(_this.audio.currentTime).split(':'),\n          _formatTime$split2 = _slicedToArray(_formatTime$split, 2),\n          m = _formatTime$split2[0],\n          s = _formatTime$split2[1];\n\n      return m * 1000 + s * 10;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"initLyricParser\", function () {\n      _this.lyric = undefined;\n      _this.lyric = new Lyric(_this.state.lyric, _this.onLyricChange);\n\n      _this.lyric.stop();\n\n      if (_this.props.showLyric && _this.state.playing) {\n        _this.lyric.seek(_this.getLyricPlayTime());\n\n        _this.lyric.play();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLyricChange\", function (_ref10) {\n      var lineNum = _ref10.lineNum,\n          txt = _ref10.txt;\n\n      _this.setState({\n        currentLyric: txt\n      });\n\n      _this.props.onAudioLyricChange && _this.props.onAudioLyricChange(lineNum, txt);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateTheme\", function (theme) {\n      if (theme && theme !== _this.props.theme && Object.values(THEME).includes(theme)) {\n        _this.setState({\n          theme: theme\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateMode\", function (mode) {\n      if (mode && mode !== _this.props.mode && Object.values(MODE).includes(mode)) {\n        _this.setState({\n          toggle: mode === MODE.FULL\n        });\n\n        if (mode === MODE.MINI) {\n          _this._closeAudioListsPanel();\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updatePlayMode\", function (playMode) {\n      if (!Object.values(PLAY_MODE).includes(playMode)) {\n        return;\n      }\n\n      if (playMode !== _this.props.playMode) {\n        _this.setState({\n          playMode: playMode\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateAudioLists\", function (audioLists) {\n      var newAudioLists = [].concat(_toConsumableArray(_this.state.audioLists), _toConsumableArray(audioLists.filter(function (audio) {\n        return _this.state.audioLists.findIndex(function (v) {\n          return v.musicSrc === audio.musicSrc;\n        }) === -1;\n      })));\n\n      _this.initPlayInfo(newAudioLists);\n\n      _this.bindEvents(_this.audio);\n\n      _this.props.onAudioListsChange && _this.props.onAudioListsChange(_this.state.playId, audioLists, _this.getBaseAudioInfo());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loadNewAudioLists\", function (_ref11) {\n      var audioLists = _ref11.audioLists,\n          remember = _ref11.remember,\n          playMode = _ref11.playMode,\n          theme = _ref11.theme,\n          autoPlayInitLoadPlayList = _ref11.autoPlayInitLoadPlayList,\n          playIndex = _ref11.playIndex;\n\n      if (audioLists.length >= 1) {\n        var info = _this.getPlayInfoOfNewList(audioLists);\n\n        var lastPlayStatus = remember ? _this.getLastPlayStatus() : {\n          playMode: playMode || PLAY_MODE.order,\n          theme: theme,\n          playIndex: playIndex || 0\n        };\n\n        var audioInfo = _objectSpread(_objectSpread(_objectSpread({}, info), lastPlayStatus), {}, {\n          isInitAutoPlay: autoPlayInitLoadPlayList\n        });\n\n        switch (_typeof(info.musicSrc)) {\n          case 'function':\n            info.musicSrc().then(function (musicSrc) {\n              _this.setState(_objectSpread(_objectSpread({}, audioInfo), {}, {\n                musicSrc: musicSrc\n              }), function () {\n                _this.audio.load();\n              });\n            }, _this.onAudioError);\n            break;\n\n          default:\n            _this.setState(audioInfo, function () {\n              _this.audio.load();\n            });\n\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"changeAudioLists\", function (nextProps) {\n      _this.resetAudioStatus();\n\n      _this.loadNewAudioLists(nextProps);\n\n      _this.props.onAudioListsChange && _this.props.onAudioListsChange(_this.state.playId, nextProps.audioLists, _this.getBaseAudioInfo());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updatePlayIndex\", function (playIndex) {\n      var currentPlayIndex = _this.getCurrentPlayIndex();\n\n      if (playIndex !== undefined && currentPlayIndex !== playIndex) {\n        var currentPlay = _this.state.audioLists[_this.getPlayIndex(playIndex)];\n\n        if (currentPlay && currentPlay.id) {\n          _this.audioListsPlay(currentPlay.id, true);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onGetAudioInstance\", function () {\n      if (_this.props.getAudioInstance) {\n        Object.defineProperty(_this.audio, 'destroy', {\n          value: function value() {\n            _this.onDestroyPlayer();\n          },\n          writable: false\n        });\n\n        _this.props.getAudioInstance(_this.audio);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateMediaSessionMetadata\", function () {\n      if ('mediaSession' in navigator && _this.props.showMediaSession) {\n        var _this$state11 = _this.state,\n            name = _this$state11.name,\n            cover = _this$state11.cover,\n            singer = _this$state11.singer;\n        navigator.mediaSession.metadata = new MediaMetadata({\n          title: name,\n          artist: singer,\n          album: name,\n          artwork: ['96x96', '128x128', '192x192', '256x256', '384x384', '512x512'].map(function (size) {\n            return {\n              src: cover,\n              sizes: size,\n              type: 'image/png'\n            };\n          })\n        });\n\n        _this.updateMediaSessionPositionState();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateMediaSessionPositionState\", function () {\n      if ('setPositionState' in navigator.mediaSession) {\n        try {\n          var _assertThisInitialize = _assertThisInitialized(_this),\n              audio = _assertThisInitialize.audio;\n\n          navigator.mediaSession.setPositionState({\n            duration: _this.audioDuration,\n            playbackRate: audio.playbackRate || 1,\n            position: audio.currentTime || 0\n          });\n        } catch (error) {\n          console.error('setPositionState error: ', error);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAddMediaSession\", function () {\n      if ('mediaSession' in navigator && _this.props.showMediaSession) {\n        var defaultSkipTime = 10;\n\n        _this.updateMediaSessionMetadata();\n\n        navigator.mediaSession.setActionHandler('play', _this.onTogglePlay);\n        navigator.mediaSession.setActionHandler('pause', _this.onTogglePlay);\n        navigator.mediaSession.setActionHandler('seekbackward', function (details) {\n          var skipTime = details.seekOffset || defaultSkipTime;\n          _this.audio.currentTime = Math.max(_this.audio.currentTime - skipTime, 0);\n        });\n        navigator.mediaSession.setActionHandler('seekforward', function (details) {\n          var skipTime = details.seekOffset || defaultSkipTime;\n          _this.audio.currentTime = Math.min(_this.audio.currentTime + skipTime, _this.audioDuration);\n        });\n        navigator.mediaSession.setActionHandler('previoustrack', _this.audioPrevPlay);\n        navigator.mediaSession.setActionHandler('nexttrack', _this.audioNextPlay);\n\n        try {\n          navigator.mediaSession.setActionHandler('seekto', function (event) {\n            if (event.fastSeek && 'fastSeek' in _this.audio) {\n              _this.audio.fastSeek(event.seekTime);\n\n              return;\n            }\n\n            _this.audio.currentTime = event.seekTime;\n\n            _this.updateMediaSessionPositionState();\n          });\n        } catch (error) {\n          console.warn('Warning! The \"seekto\" media session action is not supported.');\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindUnhandledRejection\", function () {\n      window.addEventListener('unhandledrejection', _this.onAudioError);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unBindUnhandledRejection\", function () {\n      window.removeEventListener('unhandledrejection', _this.onAudioError);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindKeyDownEvents\", function () {\n      _this.player.current.addEventListener('keydown', _this.onKeyDown, false);\n\n      if (_this.props.spaceBar) {\n        _this.player.current && _this.player.current.focus();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unBindKeyDownEvents\", function () {\n      _this.player.current.removeEventListener('keydown', _this.onKeyDown, false);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onKeyDown\", function (e) {\n      var spaceBar = _this.props.spaceBar;\n\n      if (spaceBar && e.keyCode === SPACE_BAR_KEYCODE) {\n        _this.onTogglePlay();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"initPlayer\", function (audioLists) {\n      if (!Array.isArray(audioLists)) {\n        return;\n      }\n\n      if (audioLists.length) {\n        _this.setDefaultAudioVolume();\n\n        _this.bindUnhandledRejection();\n\n        _this.bindEvents(_this.audio);\n\n        _this.initLyricParser();\n\n        _this.onAddMediaSession();\n\n        if (IS_MOBILE) {\n          _this.bindMobileAutoPlayEvents();\n        } else {\n          _this.bindKeyDownEvents();\n        }\n\n        if (!IS_MOBILE && isSafari()) {\n          _this.bindSafariAutoPlayEvents();\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unInstallPlayer\", function () {\n      _this.unBindEvents(_this.audio, undefined, false);\n\n      _this.unBindUnhandledRejection();\n\n      _this.unBindKeyDownEvents();\n\n      if (_this.media) {\n        _this.media.removeListener(_this.listenerIsMobile);\n\n        _this.media = undefined;\n      }\n\n      if (_this.lyric) {\n        _this.lyric.stop();\n\n        _this.lyric = undefined;\n      }\n\n      _this._onDestroyed();\n    });\n\n    _this.audio = null;\n    _this.targetId = 'music-player-controller'; //播放模式配置\n\n    _this._PLAY_MODE_ = Object.values(PLAY_MODE);\n    _this._PLAY_MODE_LENGTH_ = _this._PLAY_MODE_.length;\n    _this.player = React.createRef();\n    return _this;\n  }\n\n  _createClass(ReactJkMusicPlayer, [{\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props4 = this.props,\n          className = _this$props4.className,\n          drag = _this$props4.drag,\n          style = _this$props4.style,\n          showDownload = _this$props4.showDownload,\n          showPlay = _this$props4.showPlay,\n          showReload = _this$props4.showReload,\n          showPlayMode = _this$props4.showPlayMode,\n          showThemeSwitch = _this$props4.showThemeSwitch,\n          toggleMode = _this$props4.toggleMode,\n          showMiniModeCover = _this$props4.showMiniModeCover,\n          extendsContent = _this$props4.extendsContent,\n          defaultPlayMode = _this$props4.defaultPlayMode,\n          seeked = _this$props4.seeked,\n          showProgressLoadBar = _this$props4.showProgressLoadBar,\n          bounds = _this$props4.bounds,\n          defaultPosition = _this$props4.defaultPosition,\n          showMiniProcessBar = _this$props4.showMiniProcessBar,\n          preload = _this$props4.preload,\n          glassBg = _this$props4.glassBg,\n          remove = _this$props4.remove,\n          lyricClassName = _this$props4.lyricClassName,\n          showLyric = _this$props4.showLyric,\n          emptyLyricText = _this$props4.emptyLyricText,\n          getContainer = _this$props4.getContainer,\n          autoHiddenCover = _this$props4.autoHiddenCover,\n          showDestroy = _this$props4.showDestroy,\n          responsive = _this$props4.responsive;\n      var locale = this.locale;\n      var _this$state12 = this.state,\n          toggle = _this$state12.toggle,\n          playing = _this$state12.playing,\n          currentTime = _this$state12.currentTime,\n          soundValue = _this$state12.soundValue,\n          moveX = _this$state12.moveX,\n          moveY = _this$state12.moveY,\n          loading = _this$state12.loading,\n          audioListsPanelVisible = _this$state12.audioListsPanelVisible,\n          pause = _this$state12.pause,\n          theme = _this$state12.theme,\n          name = _this$state12.name,\n          cover = _this$state12.cover,\n          singer = _this$state12.singer,\n          musicSrc = _this$state12.musicSrc,\n          playId = _this$state12.playId,\n          isMobile = _this$state12.isMobile,\n          playMode = _this$state12.playMode,\n          playModeTipVisible = _this$state12.playModeTipVisible,\n          playModelNameVisible = _this$state12.playModelNameVisible,\n          initAnimate = _this$state12.initAnimate,\n          loadProgress = _this$state12.loadProgress,\n          audioLists = _this$state12.audioLists,\n          removeId = _this$state12.removeId,\n          currentLyric = _this$state12.currentLyric,\n          audioLyricVisible = _this$state12.audioLyricVisible,\n          isPlayDestroyed = _this$state12.isPlayDestroyed;\n      var preloadState = preload === false || preload === 'none' ? {} : preload === true ? {\n        preload: 'auto'\n      } : {\n        preload: preload\n      };\n      var panelToggleAnimate = initAnimate ? {\n        show: audioListsPanelVisible,\n        hide: !audioListsPanelVisible\n      } : {\n        show: audioListsPanelVisible\n      };\n      var currentPlayMode = PLAY_MODE[playMode || defaultPlayMode] || PLAY_MODE.order;\n      var currentPlayModeName = locale.playModeText[currentPlayMode];\n      var isShowMiniModeCover = showMiniModeCover && !autoHiddenCover || autoHiddenCover && cover ? {\n        style: {\n          backgroundImage: \"url(\".concat(cover, \")\")\n        }\n      } : {};\n      var formattedCurrentTime = formatTime(currentTime);\n      var formattedAudioDuration = formatTime(this.audioDuration);\n      var progressHandler = seeked ? {\n        onChange: this.onHandleProgress,\n        onAfterChange: this.onAudioSeeked\n      } : {}; //进度条\n\n      var ProgressBar = /*#__PURE__*/React.createElement(Slider, _extends({\n        max: Math.ceil(this.audioDuration),\n        defaultValue: 0,\n        value: Math.ceil(currentTime)\n      }, progressHandler, sliderBaseOptions)); //下载按钮\n\n      var DownloadComponent = showDownload && /*#__PURE__*/React.createElement(\"span\", _extends({\n        className: \"group audio-download\"\n      }, _defineProperty({}, isMobile ? 'onTouchStart' : 'onClick', this.onAudioDownload), {\n        title: locale.downloadText\n      }), /*#__PURE__*/React.createElement(DownloadIcon, null)); //主题开关\n\n      var ThemeSwitchComponent = showThemeSwitch && /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group theme-switch\"\n      }, /*#__PURE__*/React.createElement(Switch, {\n        className: \"theme-switch-container\",\n        onChange: this.themeChange,\n        checkedChildren: locale.lightThemeText,\n        unCheckedChildren: locale.darkThemeText,\n        checked: theme === THEME.LIGHT,\n        title: locale.switchThemeText\n      })); //重放\n\n      var ReloadComponent = showReload && /*#__PURE__*/React.createElement(\"span\", _extends({\n        className: \"group reload-btn\"\n      }, isMobile ? {\n        onTouchStart: this.onAudioReload\n      } : {\n        onClick: this.onAudioReload\n      }, {\n        title: locale.reloadText\n      }), /*#__PURE__*/React.createElement(ReloadIcon, null)); //歌词\n\n      var LyricComponent = showLyric && /*#__PURE__*/React.createElement(\"span\", _extends({\n        className: cls('group lyric-btn', {\n          'lyric-btn-active': audioLyricVisible\n        })\n      }, isMobile ? {\n        onTouchStart: this.toggleAudioLyric\n      } : {\n        onClick: this.toggleAudioLyric\n      }, {\n        title: locale.toggleLyricText\n      }), /*#__PURE__*/React.createElement(LyricIcon, null)); //播放模式\n\n      var PlayModeComponent = showPlayMode && /*#__PURE__*/React.createElement(\"span\", _extends({\n        className: cls('group loop-btn')\n      }, isMobile ? {\n        onTouchStart: this.togglePlayMode\n      } : {\n        onClick: this.togglePlayMode\n      }, {\n        title: locale.playModeText[currentPlayMode]\n      }), this.renderPlayModeIcon(currentPlayMode));\n      var miniProcessBarR = isMobile ? 30 : 40;\n      var DestroyComponent = showDestroy && /*#__PURE__*/React.createElement(\"span\", _extends({\n        title: locale.destroyText,\n        className: \"group destroy-btn\",\n        ref: function ref(node) {\n          return _this3.destroyBtn = node;\n        }\n      }, !drag || toggle ? _defineProperty({}, isMobile ? 'onTouchStart' : 'onClick', this.onDestroyPlayer) : null), /*#__PURE__*/React.createElement(CloseIcon, null));\n      var AudioController = /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('react-jinke-music-player'),\n        style: defaultPosition,\n        tabIndex: \"-1\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('music-player')\n      }, showMiniProcessBar && /*#__PURE__*/React.createElement(CircleProcessBar, {\n        progress: currentTime / this.audioDuration,\n        r: miniProcessBarR\n      }), /*#__PURE__*/React.createElement(\"div\", _extends({\n        id: this.targetId,\n        className: cls('scale', 'music-player-controller', {\n          'music-player-playing': this.state.playing\n        })\n      }, isShowMiniModeCover), loading ? /*#__PURE__*/React.createElement(Load, null) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"controller-title\"\n      }, locale.controllerTitle), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"music-player-controller-setting\"\n      }, toggle ? locale.closeText : locale.openText))), DestroyComponent));\n      var container = getContainer() || document.body;\n      var audioTitle = this.getAudioTitle();\n\n      if (isPlayDestroyed) {\n        return null;\n      }\n\n      return createPortal( /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('react-jinke-music-player-main', {\n          'light-theme': theme === THEME.LIGHT,\n          'dark-theme': theme === THEME.DARK\n        }, className),\n        style: style,\n        ref: this.player,\n        tabIndex: \"-1\"\n      }, toggle && isMobile && responsive && /*#__PURE__*/React.createElement(AudioPlayerMobile, {\n        playing: playing,\n        loading: loading,\n        pause: pause,\n        name: name,\n        singer: singer,\n        cover: cover,\n        themeSwitch: ThemeSwitchComponent,\n        duration: formattedAudioDuration,\n        currentTime: formattedCurrentTime,\n        progressBar: ProgressBar,\n        onPlay: this.onTogglePlay,\n        currentPlayModeName: currentPlayModeName,\n        playMode: PlayModeComponent,\n        audioNextPlay: this.audioNextPlay,\n        audioPrevPlay: this.audioPrevPlay,\n        playListsIcon: /*#__PURE__*/React.createElement(PlayLists, null),\n        reloadIcon: ReloadComponent,\n        downloadIcon: DownloadComponent,\n        nextAudioIcon: /*#__PURE__*/React.createElement(NextAudioIcon, null),\n        prevAudioIcon: /*#__PURE__*/React.createElement(PrevAudioIcon, null),\n        playIcon: /*#__PURE__*/React.createElement(AnimatePlayIcon, null),\n        pauseIcon: /*#__PURE__*/React.createElement(AnimatePauseIcon, null),\n        closeIcon: /*#__PURE__*/React.createElement(CloseIcon, null),\n        loadingIcon: /*#__PURE__*/React.createElement(Load, null),\n        playModeTipVisible: playModeTipVisible,\n        openAudioListsPanel: this.openAudioListsPanel,\n        onClose: this.onHidePanel,\n        extendsContent: extendsContent,\n        glassBg: glassBg,\n        LyricIcon: LyricComponent,\n        autoHiddenCover: autoHiddenCover,\n        onCoverClick: this.onCoverClick\n      }), toggle ? undefined : drag ? /*#__PURE__*/React.createElement(Draggable, {\n        bounds: bounds,\n        position: {\n          x: moveX,\n          y: moveY\n        },\n        onDrag: this.onControllerDrag,\n        onStop: this.onControllerDragStop,\n        onStart: this.onControllerDragStart\n      }, AudioController) : AudioController, toggle && (!isMobile || !responsive) && /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('music-player-panel', 'translate', {\n          'glass-bg': glassBg\n        })\n      }, /*#__PURE__*/React.createElement(\"section\", {\n        className: \"panel-content\"\n      }, (!autoHiddenCover || autoHiddenCover && cover) && /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('img-content', 'img-rotate', {\n          'img-rotate-pause': pause || !playing || !cover\n        }),\n        style: {\n          backgroundImage: \"url(\".concat(cover, \")\")\n        },\n        onClick: function onClick() {\n          return _this3.onCoverClick();\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"progress-bar-content\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"audio-title\"\n      }, audioTitle), /*#__PURE__*/React.createElement(\"section\", {\n        className: \"audio-main\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"current-time\"\n      }, loading ? '--' : formattedCurrentTime), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"progress-bar\"\n      }, showProgressLoadBar && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"progress-load-bar\",\n        style: {\n          width: \"\".concat(Math.min(loadProgress, 100), \"%\")\n        }\n      }), ProgressBar), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"duration\"\n      }, loading ? '--' : formattedAudioDuration))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"player-content\"\n      }, loading ? /*#__PURE__*/React.createElement(Load, null) : showPlay ? /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group\"\n      }, /*#__PURE__*/React.createElement(\"span\", _extends({\n        className: \"group prev-audio\",\n        title: locale.previousTrackText\n      }, isMobile ? {\n        onTouchStart: this.audioPrevPlay\n      } : {\n        onClick: this.audioPrevPlay\n      }), /*#__PURE__*/React.createElement(PrevAudioIcon, null)), /*#__PURE__*/React.createElement(\"span\", _extends({\n        className: \"group play-btn\",\n        ref: function ref(node) {\n          return _this3.playBtn = node;\n        }\n      }, isMobile ? {\n        onTouchStart: this.onTogglePlay\n      } : {\n        onClick: this.onTogglePlay\n      }, {\n        title: playing ? locale.clickToPauseText : locale.clickToPlayText\n      }), playing ? /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(AnimatePauseIcon, null)) : /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(AnimatePlayIcon, null))), /*#__PURE__*/React.createElement(\"span\", _extends({\n        className: \"group next-audio\",\n        title: locale.nextTrackText\n      }, isMobile ? {\n        onTouchStart: this.audioNextPlay\n      } : {\n        onClick: this.audioNextPlay\n      }), /*#__PURE__*/React.createElement(NextAudioIcon, null))) : undefined, ReloadComponent, DownloadComponent, ThemeSwitchComponent, extendsContent || null, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group play-sounds\",\n        title: locale.volumeText\n      }, soundValue === 0 ? /*#__PURE__*/React.createElement(\"span\", _extends({\n        className: \"sounds-icon\"\n      }, isMobile ? {\n        onTouchStart: this.onSound\n      } : {\n        onClick: this.onSound\n      }), /*#__PURE__*/React.createElement(MdVolumeMuteIcon, null)) : /*#__PURE__*/React.createElement(\"span\", _extends({\n        className: \"sounds-icon\"\n      }, isMobile ? {\n        onTouchStart: this.onMute\n      } : {\n        onClick: this.onMute\n      }), /*#__PURE__*/React.createElement(MdVolumeDownIcon, null)), /*#__PURE__*/React.createElement(Slider, _extends({\n        max: 1,\n        value: soundValue,\n        onChange: this.audioSoundChange,\n        className: \"sound-operation\"\n      }, sliderBaseOptions))), PlayModeComponent, LyricComponent, /*#__PURE__*/React.createElement(\"span\", _extends({\n        className: \"group audio-lists-btn\",\n        title: locale.playListsText\n      }, isMobile ? {\n        onTouchStart: this.openAudioListsPanel\n      } : {\n        onClick: this.openAudioListsPanel\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"audio-lists-icon\"\n      }, /*#__PURE__*/React.createElement(PlayLists, null)), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"audio-lists-num\"\n      }, audioLists.length)), toggleMode && /*#__PURE__*/React.createElement(\"span\", _extends({\n        className: \"group hide-panel\",\n        title: locale.toggleMiniModeText\n      }, isMobile ? {\n        onTouchStart: this.onHidePanel\n      } : {\n        onClick: this.onHidePanel\n      }), /*#__PURE__*/React.createElement(FaMinusSquareOIcon, null)), DestroyComponent))), /*#__PURE__*/React.createElement(AudioListsPanel, {\n        playId: playId,\n        pause: pause,\n        loading: loading ? /*#__PURE__*/React.createElement(Load, null) : undefined,\n        visible: audioListsPanelVisible,\n        audioLists: audioLists,\n        onPlay: this.audioListsPlay,\n        onCancel: this.closeAudioListsPanel,\n        playIcon: /*#__PURE__*/React.createElement(AnimatePlayIcon, null),\n        pauseIcon: /*#__PURE__*/React.createElement(AnimatePauseIcon, null),\n        closeIcon: /*#__PURE__*/React.createElement(CloseIcon, null),\n        isMobile: isMobile,\n        panelToggleAnimate: panelToggleAnimate,\n        glassBg: glassBg,\n        cover: cover,\n        remove: remove,\n        deleteIcon: /*#__PURE__*/React.createElement(DeleteIcon, null),\n        onDelete: this.deleteAudioLists,\n        removeId: removeId,\n        audioListsDragEnd: this.audioListsDragEnd,\n        locale: locale\n      }), !isMobile && /*#__PURE__*/React.createElement(PlayModel, {\n        visible: playModelNameVisible,\n        value: currentPlayModeName\n      }), audioLyricVisible && /*#__PURE__*/React.createElement(Draggable, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('music-player-lyric', lyricClassName)\n      }, currentLyric || emptyLyricText)), /*#__PURE__*/React.createElement(\"audio\", _extends({\n        className: \"music-player-audio\",\n        title: audioTitle\n      }, preloadState, {\n        src: musicSrc,\n        ref: function ref(node) {\n          return _this3.audio = node;\n        }\n      }))), container);\n    }\n  }, {\n    key: \"getBaseAudioInfo\",\n    //返回给使用者的 音乐信息\n    value: function getBaseAudioInfo() {\n      var _this$state13 = this.state,\n          cover = _this$state13.cover,\n          name = _this$state13.name,\n          musicSrc = _this$state13.musicSrc,\n          soundValue = _this$state13.soundValue,\n          lyric = _this$state13.lyric,\n          audioLists = _this$state13.audioLists;\n\n      var _ref14 = this.audio || {},\n          currentTime = _ref14.currentTime,\n          muted = _ref14.muted,\n          networkState = _ref14.networkState,\n          readyState = _ref14.readyState,\n          played = _ref14.played,\n          paused = _ref14.paused,\n          ended = _ref14.ended,\n          startDate = _ref14.startDate;\n\n      var currentPlayIndex = this.getCurrentPlayIndex();\n      var currentAudioListInfo = audioLists[currentPlayIndex] || {};\n      return _objectSpread(_objectSpread({}, currentAudioListInfo), {}, {\n        cover: cover,\n        name: name,\n        musicSrc: musicSrc,\n        volume: soundValue,\n        currentTime: currentTime,\n        duration: this.audioDuration,\n        muted: muted,\n        networkState: networkState,\n        readyState: readyState,\n        played: played,\n        paused: paused,\n        ended: ended,\n        startDate: startDate,\n        lyric: lyric,\n        playIndex: currentPlayIndex\n      });\n    } //播放\n\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    // eslint-disable-next-line camelcase\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      var audioLists = nextProps.audioLists,\n          playIndex = nextProps.playIndex,\n          theme = nextProps.theme,\n          mode = nextProps.mode,\n          playMode = nextProps.playMode,\n          clearPriorAudioLists = nextProps.clearPriorAudioLists;\n\n      if (!arrayEqual(audioLists)(this.props.audioLists)) {\n        if (clearPriorAudioLists) {\n          this.changeAudioLists(nextProps);\n        } else {\n          this.updateAudioLists(audioLists);\n        }\n\n        this.initPlayer(audioLists);\n      }\n\n      this.updatePlayIndex(playIndex);\n      this.updateTheme(theme);\n      this.updateMode(mode);\n      this.updatePlayMode(playMode);\n    } // eslint-disable-next-line camelcase\n\n  }, {\n    key: \"UNSAFE_componentWillMount\",\n    value: function UNSAFE_componentWillMount() {\n      var _this4 = this;\n\n      var _this$props5 = this.props,\n          audioLists = _this$props5.audioLists,\n          remember = _this$props5.remember;\n\n      if (Array.isArray(audioLists) && audioLists.length >= 1) {\n        var playInfo = this.getPlayInfo(audioLists);\n        var lastPlayStatus = remember ? this.getLastPlayStatus() : {};\n\n        switch (_typeof(playInfo.musicSrc)) {\n          case 'function':\n            playInfo.musicSrc().then(function (val) {\n              _this4.setState(_objectSpread(_objectSpread({}, playInfo), {}, {\n                musicSrc: val\n              }, lastPlayStatus));\n            }, this.onAudioError);\n            break;\n\n          default:\n            this.setState(_objectSpread(_objectSpread({}, playInfo), lastPlayStatus));\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.unInstallPlayer();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.addMobileListener();\n      this.initPlayer(this.props.audioLists);\n      this.onGetAudioInstance();\n    }\n  }]);\n\n  return ReactJkMusicPlayer;\n}(PureComponent);\n\n_defineProperty(ReactJkMusicPlayer, \"defaultProps\", {\n  audioLists: [],\n  theme: THEME.DARK,\n  mode: MODE.MINI,\n  defaultPlayMode: PLAY_MODE.order,\n  defaultPosition: {\n    left: 0,\n    top: 0\n  },\n  once: false,\n  //onAudioPlay 事件  是否只触发一次\n  drag: true,\n  toggleMode: true,\n  //能换在迷你 和完整模式下 互相切换\n  showMiniModeCover: true,\n  //迷你模式下 是否显示封面图\n  showDownload: true,\n  showPlay: true,\n  showReload: true,\n  showPlayMode: true,\n  showThemeSwitch: true,\n  showLyric: false,\n  playModeTipVisible: false,\n  //手机端切换播放模式\n  autoPlay: true,\n  defaultVolume: 1,\n  showProgressLoadBar: true,\n  //音频预加载进度\n  seeked: true,\n  playModeShowTime: 600,\n  //播放模式提示 显示时间,\n  bounds: 'body',\n  //mini 模式拖拽的可移动边界\n  showMiniProcessBar: false,\n  //是否在迷你模式 显示进度条\n  loadAudioErrorPlayNext: true,\n  // 加载音频失败时 是否尝试播放下一首\n  preload: false,\n  //是否在页面加载后立即加载音频\n  glassBg: false,\n  //是否是毛玻璃效果\n  remember: false,\n  //是否记住当前播放状态\n  remove: true,\n  //音乐是否可以删除\n  defaultPlayIndex: 0,\n  //默认播放索引\n  getContainer: function getContainer() {\n    return document.body;\n  },\n  // 播放器挂载的节点\n  autoHiddenCover: false,\n  // 当前播放歌曲没有封面时是否自动隐藏\n  onBeforeAudioDownload: function onBeforeAudioDownload() {},\n  // 下载前转换音频地址等\n  spaceBar: false,\n  // 是否可以通过空格键 控制播放暂停\n  showDestroy: false,\n  showMediaSession: false,\n  locale: LOCALE.en_US,\n  responsive: true\n});\n\n_defineProperty(ReactJkMusicPlayer, \"propTypes\", PROP_TYPES);\n\nexport { ReactJkMusicPlayer as default };"]},"metadata":{},"sourceType":"module"}